<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chaste: ActivationOutputModifier Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="chaste-logo-60x60.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Chaste
   &#160;<span id="projectnumber">Release::2021.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classActivationOutputModifier.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classActivationOutputModifier-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ActivationOutputModifier Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for ActivationOutputModifier:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classActivationOutputModifier__inherit__graph.svg" width="218" height="463"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for ActivationOutputModifier:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classActivationOutputModifier__coll__graph.svg" width="644" height="574"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa1266accee05b33750e2df4730448e45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#aa1266accee05b33750e2df4730448e45">ActivationOutputModifier</a> (const std::string &amp;rFilename, <a class="el" href="classdouble.html">double</a> threshold)</td></tr>
<tr class="separator:aa1266accee05b33750e2df4730448e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe939a56ea71099367c7e568292b655"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a2fe939a56ea71099367c7e568292b655">InitialiseAtStart</a> (<a class="el" href="classDistributedVectorFactory.html">DistributedVectorFactory</a> *pVectorFactory, const std::vector&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;rNodePermutation)</td></tr>
<tr class="separator:a2fe939a56ea71099367c7e568292b655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50140fb0ac74b5d2453b7fc09d972372"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a50140fb0ac74b5d2453b7fc09d972372">FinaliseAtEnd</a> ()</td></tr>
<tr class="separator:a50140fb0ac74b5d2453b7fc09d972372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9fa96746951494b73c33cba7eaed9b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a3d9fa96746951494b73c33cba7eaed9b">ProcessSolutionAtTimeStep</a> (<a class="el" href="classdouble.html">double</a> time, <a class="el" href="classVec.html">Vec</a> solution, <a class="el" href="classunsigned.html">unsigned</a> problemDim)</td></tr>
<tr class="separator:a3d9fa96746951494b73c33cba7eaed9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAbstractOutputModifier"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAbstractOutputModifier')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAbstractOutputModifier.html">AbstractOutputModifier</a></td></tr>
<tr class="memitem:a5c1e10f1f625a45f9bedc1fbc4a7b3c0 inherit pub_methods_classAbstractOutputModifier"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOutputModifier.html#a5c1e10f1f625a45f9bedc1fbc4a7b3c0">AbstractOutputModifier</a> (const std::string &amp;rFilename, <a class="el" href="classdouble.html">double</a> flushTime=0.0)</td></tr>
<tr class="separator:a5c1e10f1f625a45f9bedc1fbc4a7b3c0 inherit pub_methods_classAbstractOutputModifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd18264f1490d102fb7e0ad62df108a inherit pub_methods_classAbstractOutputModifier"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOutputModifier.html#a9dd18264f1490d102fb7e0ad62df108a">~AbstractOutputModifier</a> ()</td></tr>
<tr class="separator:a9dd18264f1490d102fb7e0ad62df108a inherit pub_methods_classAbstractOutputModifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1abdefbf9141e1ef99cf09bf8ce54da8"><td class="memTemplParams" colspan="2">template&lt;class Archive &gt; </td></tr>
<tr class="memitem:a1abdefbf9141e1ef99cf09bf8ce54da8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a1abdefbf9141e1ef99cf09bf8ce54da8">serialize</a> (Archive &amp;archive, const <a class="el" href="classunsigned.html">unsigned</a> int version)</td></tr>
<tr class="separator:a1abdefbf9141e1ef99cf09bf8ce54da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391a5f56e7c326458a02f94b88818f3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a391a5f56e7c326458a02f94b88818f3c">ActivationOutputModifier</a> ()</td></tr>
<tr class="separator:a391a5f56e7c326458a02f94b88818f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aed029efee0de4d77386185781a158ade"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#aed029efee0de4d77386185781a158ade">mThreshold</a></td></tr>
<tr class="separator:aed029efee0de4d77386185781a158ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d6d39115450822cbee0ce508eb1c97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#ad0d6d39115450822cbee0ce508eb1c97">mLocalSize</a></td></tr>
<tr class="separator:ad0d6d39115450822cbee0ce508eb1c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d8144410e4cdbce01a1bc07272e253"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#ae9d8144410e4cdbce01a1bc07272e253">mFirstActivitationTimes</a></td></tr>
<tr class="separator:ae9d8144410e4cdbce01a1bc07272e253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849a226f3a0b4273fcb09a808eefd4af"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a849a226f3a0b4273fcb09a808eefd4af">mFirstRecoveryTimes</a></td></tr>
<tr class="separator:a849a226f3a0b4273fcb09a808eefd4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff39f2d8ffa63dc405f51db5301d42b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a5ff39f2d8ffa63dc405f51db5301d42b">mSecondActivitationTimes</a></td></tr>
<tr class="separator:a5ff39f2d8ffa63dc405f51db5301d42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e168c75419a61073b1532723992e1f4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdouble.html">double</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#a5e168c75419a61073b1532723992e1f4">mSecondRecoveryTimes</a></td></tr>
<tr class="separator:a5e168c75419a61073b1532723992e1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab2ac67ce87f3c0a7b8edcb71370aa34b"><td class="memItemLeft" align="right" valign="top"><a id="ab2ac67ce87f3c0a7b8edcb71370aa34b"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>TestOutputModifiers</b></td></tr>
<tr class="separator:ab2ac67ce87f3c0a7b8edcb71370aa34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActivationOutputModifier.html#ac98d07dd8f7b70e16ccb9a01abf56b9c">boost::serialization::access</a></td></tr>
<tr class="separator:ac98d07dd8f7b70e16ccb9a01abf56b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classAbstractOutputModifier"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classAbstractOutputModifier')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAbstractOutputModifier.html">AbstractOutputModifier</a></td></tr>
<tr class="memitem:a576742cc74a1d4df3803c4abe8172893 inherit pro_methods_classAbstractOutputModifier"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOutputModifier.html#a576742cc74a1d4df3803c4abe8172893">AbstractOutputModifier</a> ()</td></tr>
<tr class="separator:a576742cc74a1d4df3803c4abe8172893 inherit pro_methods_classAbstractOutputModifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classAbstractOutputModifier"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classAbstractOutputModifier')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classAbstractOutputModifier.html">AbstractOutputModifier</a></td></tr>
<tr class="memitem:af84e79e996136fddb4960b821456a9a3 inherit pro_attribs_classAbstractOutputModifier"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOutputModifier.html#af84e79e996136fddb4960b821456a9a3">mFilename</a></td></tr>
<tr class="separator:af84e79e996136fddb4960b821456a9a3 inherit pro_attribs_classAbstractOutputModifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47bb7012b3535f31e48d0feeadd1708e inherit pro_attribs_classAbstractOutputModifier"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdouble.html">double</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractOutputModifier.html#a47bb7012b3535f31e48d0feeadd1708e">mFlushTime</a></td></tr>
<tr class="separator:a47bb7012b3535f31e48d0feeadd1708e inherit pro_attribs_classAbstractOutputModifier"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Specialised class for on-the-fly calculation of activation and recovery times. This is hard-coded for the first 2 rounds of activation/recovery.</p>
<p>Times are relative to simulation start and are listed in node order and in 4 columns comma separated (.CSV)</p>
<p>node_0_activation, node_0_recovery, node_0_later_activation, node_0_later_recovery node_1_activation, node_1_recovery, node_1_later_activation, node_1_later_recovery ...</p>
<p>Any missing data (node was not activated a second time or did not recover) is marked with -1.</p>
<p>WARNING: If you checkpoint this class then the partial results will not be stored. This is because the sizes of the activation time vectors will be dependent on the number of processes involved in the parallel code. To fix this: archive as PETSc vectors? Then check ProcessSolutionAtTimeStep logic... </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00061">61</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a391a5f56e7c326458a02f94b88818f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391a5f56e7c326458a02f94b88818f3c">&#9670;&nbsp;</a></span>ActivationOutputModifier() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ActivationOutputModifier::ActivationOutputModifier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Private constructor that does nothing, for archiving </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00092">92</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

</div>
</div>
<a id="aa1266accee05b33750e2df4730448e45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1266accee05b33750e2df4730448e45">&#9670;&nbsp;</a></span>ActivationOutputModifier() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ActivationOutputModifier::ActivationOutputModifier </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rFilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rFilename</td><td>The file which is eventually produced by this modifier </td></tr>
    <tr><td class="paramname">threshold</td><td>The transmembrane voltage threshold (in mV) at which activation is deemed to have been trigged. This is also used for calculating relaxation time (this is not so sophisticated as an APD90 calculation). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00104">104</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">References <a class="el" href="SerializationExportWrapper_8hpp_source.html#l00347">CHASTE_CLASS_EXPORT</a>, <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00049">FinaliseAtEnd()</a>, <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">InitialiseAtStart()</a>, and <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00091">ProcessSolutionAtTimeStep()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a50140fb0ac74b5d2453b7fc09d972372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50140fb0ac74b5d2453b7fc09d972372">&#9670;&nbsp;</a></span>FinaliseAtEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActivationOutputModifier::FinaliseAtEnd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finalise the modifier (write all results to the file) </p>

<p>Implements <a class="el" href="classAbstractOutputModifier.html#a3725913446a287448c5f1d6980fabb81">AbstractOutputModifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00049">49</a> of file <a class="el" href="ActivationOutputModifier_8cpp_source.html">ActivationOutputModifier.cpp</a>.</p>

<p class="reference">References <a class="el" href="PetscTools_8cpp_source.html#l00114">PetscTools::GetMyRank()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l00208">HeartConfig::Instance()</a>, <a class="el" href="AbstractOutputModifier_8hpp_source.html#l00078">AbstractOutputModifier::mFilename</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00260">OutputFileHandler::OpenOutputFile()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00104">ActivationOutputModifier()</a>.</p>

</div>
</div>
<a id="a2fe939a56ea71099367c7e568292b655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fe939a56ea71099367c7e568292b655">&#9670;&nbsp;</a></span>InitialiseAtStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActivationOutputModifier::InitialiseAtStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDistributedVectorFactory.html">DistributedVectorFactory</a> *&#160;</td>
          <td class="paramname"><em>pVectorFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rNodePermutation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialise the modifier (open a file or make some memory) when the solve loop is starting</p>
<p>Note the problem passes parameters in a non-templated fashion in order to keep the interface as lightweight as possible. That is, it might have been slicker to pass in the mesh but that would require multiple templates. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pVectorFactory</td><td>The vector factory which is associated with the calling problem's mesh </td></tr>
    <tr><td class="paramname">rNodePermutation</td><td>The permutation associated with the calling problem's mesh (when running with parallel partitioning) </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classAbstractOutputModifier.html#a26c25c5d764b13371928fe962e605723">AbstractOutputModifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">40</a> of file <a class="el" href="ActivationOutputModifier_8cpp_source.html">ActivationOutputModifier.cpp</a>.</p>

<p class="reference">References <a class="el" href="DistributedVectorFactory_8hpp_source.html#l00196">DistributedVectorFactory::GetLocalOwnership()</a>, <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00066">mFirstActivitationTimes</a>, <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00067">mFirstRecoveryTimes</a>, <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00065">mLocalSize</a>, <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00068">mSecondActivitationTimes</a>, and <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00069">mSecondRecoveryTimes</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00104">ActivationOutputModifier()</a>.</p>

</div>
</div>
<a id="a3d9fa96746951494b73c33cba7eaed9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d9fa96746951494b73c33cba7eaed9b">&#9670;&nbsp;</a></span>ProcessSolutionAtTimeStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActivationOutputModifier::ProcessSolutionAtTimeStep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVec.html">Vec</a>&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>problemDim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process a solution time-step (memorise all new activations) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The current simulation time </td></tr>
    <tr><td class="paramname">solution</td><td>A working copy of the solution at the current time-step. This is the PETSc vector which is distributed across the processes. </td></tr>
    <tr><td class="paramname">problemDim</td><td>The calling problem dimension. Used here to avoid probing the size of the solution vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>#2570 Add to a longer running test </dd></dl>

<p>Implements <a class="el" href="classAbstractOutputModifier.html#a07deefba9f1556ef7c5795fa27dac641">AbstractOutputModifier</a>.</p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00091">91</a> of file <a class="el" href="ActivationOutputModifier_8cpp_source.html">ActivationOutputModifier.cpp</a>.</p>

<p class="reference">References <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00065">mLocalSize</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00104">ActivationOutputModifier()</a>.</p>

</div>
</div>
<a id="a1abdefbf9141e1ef99cf09bf8ce54da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1abdefbf9141e1ef99cf09bf8ce54da8">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Archive &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ActivationOutputModifier::serialize </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname"><em>archive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classunsigned.html">unsigned</a> int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Archive the output modifier, never used directly - boost uses this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archive</td><td>the archive </td></tr>
    <tr><td class="paramname">version</td><td>the current version of this class </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00083">83</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">References <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00064">mThreshold</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="ac98d07dd8f7b70e16ccb9a01abf56b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98d07dd8f7b70e16ccb9a01abf56b9c">&#9670;&nbsp;</a></span>boost::serialization::access</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class boost::serialization::access</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Needed for serialization. </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00074">74</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae9d8144410e4cdbce01a1bc07272e253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d8144410e4cdbce01a1bc07272e253">&#9670;&nbsp;</a></span>mFirstActivitationTimes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdouble.html">double</a>&gt; ActivationOutputModifier::mFirstActivitationTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The first activation (first time above threshold) for all local nodes on this process </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00066">66</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">InitialiseAtStart()</a>.</p>

</div>
</div>
<a id="a849a226f3a0b4273fcb09a808eefd4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849a226f3a0b4273fcb09a808eefd4af">&#9670;&nbsp;</a></span>mFirstRecoveryTimes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdouble.html">double</a>&gt; ActivationOutputModifier::mFirstRecoveryTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The first recovery (first time subsequent time below threshold) for all local nodes on this process </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00067">67</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">InitialiseAtStart()</a>.</p>

</div>
</div>
<a id="ad0d6d39115450822cbee0ce508eb1c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d6d39115450822cbee0ce508eb1c97">&#9670;&nbsp;</a></span>mLocalSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunsigned.html">unsigned</a> ActivationOutputModifier::mLocalSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of nodes on this process (calculated in <a class="el" href="classActivationOutputModifier.html#a2fe939a56ea71099367c7e568292b655">InitialiseAtStart</a>) </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00065">65</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">InitialiseAtStart()</a>, and <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00091">ProcessSolutionAtTimeStep()</a>.</p>

</div>
</div>
<a id="a5ff39f2d8ffa63dc405f51db5301d42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff39f2d8ffa63dc405f51db5301d42b">&#9670;&nbsp;</a></span>mSecondActivitationTimes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdouble.html">double</a>&gt; ActivationOutputModifier::mSecondActivitationTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The second activation time for local nodes </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00068">68</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">InitialiseAtStart()</a>.</p>

</div>
</div>
<a id="a5e168c75419a61073b1532723992e1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e168c75419a61073b1532723992e1f4">&#9670;&nbsp;</a></span>mSecondRecoveryTimes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdouble.html">double</a>&gt; ActivationOutputModifier::mSecondRecoveryTimes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The second recovery time for local nodes </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00069">69</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8cpp_source.html#l00040">InitialiseAtStart()</a>.</p>

</div>
</div>
<a id="aed029efee0de4d77386185781a158ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed029efee0de4d77386185781a158ade">&#9670;&nbsp;</a></span>mThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdouble.html">double</a> ActivationOutputModifier::mThreshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The user-defined threshold at which activation and recovery is to be measured </p>

<p class="definition">Definition at line <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00064">64</a> of file <a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ActivationOutputModifier_8hpp_source.html#l00083">serialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>heart/src/problem/<a class="el" href="ActivationOutputModifier_8hpp_source.html">ActivationOutputModifier.hpp</a></li>
<li>heart/src/problem/<a class="el" href="ActivationOutputModifier_8cpp_source.html">ActivationOutputModifier.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classActivationOutputModifier.html">ActivationOutputModifier</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
