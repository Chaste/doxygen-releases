<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: OutputFileHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Chaste&#160;<span id="projectnumber">Release::3.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classOutputFileHandler.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">OutputFileHandler Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="OutputFileHandler" -->
<p><code>#include &lt;<a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Collaboration diagram for OutputFileHandler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classOutputFileHandler__coll__graph.png" border="0" usemap="#OutputFileHandler_coll__map" alt="Collaboration graph"/></div>
<map name="OutputFileHandler_coll__map" id="OutputFileHandler_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classOutputFileHandler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#aee99788c5bfdde3d964586dc54944024">OutputFileHandler</a> (const std::string &amp;rDirectory, <a class="el" href="classbool.html">bool</a> cleanOutputDirectory=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a2e5f1c926e37a9b1bff12e43902113b4">OutputFileHandler</a> (const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rDirectory, <a class="el" href="classbool.html">bool</a> cleanOutputDirectory=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#ab9c41bd287378a80f884d9860fb14f27">GetOutputDirectoryFullPath</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a52d00a19d079ac9f85812ba3a313221f">SetArchiveDirectory</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">out_stream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a01752f10d7d7a15355363ee63ce681fe">OpenOutputFile</a> (const std::string &amp;rFileName, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">out_stream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a1941440bd3ffaf07ec8f9e4ec5eeb074">OpenOutputFile</a> (const std::string &amp;rFileName, <a class="el" href="classunsigned.html">unsigned</a> number, const std::string &amp;rFileFormat, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileFinder.html">FileFinder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a930c6d614f719883e5d54d1b325eb714">CopyFileTo</a> (const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rSourceFile) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileFinder.html">FileFinder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#afa249d4ec233e22a2de8ff3b261acce5">FindFile</a> (std::string leafName) const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a0f5e0618de55107606ee23a5d60c0b41">GetChasteTestOutputDirectory</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a1d1869884c12fd025cd2b9eb159db41b">SIG_FILE_NAME</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a8dea37b0562ff67270b53026bb7304d7">CommonConstructor</a> (const std::string &amp;rDirectory, <a class="el" href="classbool.html">bool</a> cleanOutputDirectory)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#ad025dfce73b584c1dd8615d869a5104c">MakeFoldersAndReturnFullPath</a> (const std::string &amp;rDirectory) const </td></tr>
<tr><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a0c97261c6ead74c5da4e527c4812400e">AddTrailingSlash</a> (std::string &amp;rDirectory)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7e4862b45df8d48f55881a71b63b85e"></a><!-- doxytag: member="OutputFileHandler::mDirectory" ref="aa7e4862b45df8d48f55881a71b63b85e" args="" -->
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#aa7e4862b45df8d48f55881a71b63b85e">mDirectory</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The directory to store output files in (always ends in "/") <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file abstracts stuff that needs to be done when creating output files for tests. It defines some helpful functions, so that things that are otherwise repeated in lots of places are just done here. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8hpp_source.html#l00054">54</a> of file <a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aee99788c5bfdde3d964586dc54944024"></a><!-- doxytag: member="OutputFileHandler::OutputFileHandler" ref="aee99788c5bfdde3d964586dc54944024" args="(const std::string &amp;rDirectory, bool cleanOutputDirectory=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OutputFileHandler::OutputFileHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>cleanOutputDirectory</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an <a class="el" href="classOutputFileHandler.html">OutputFileHandler</a> that will create output files in the given directory. The directory name should be relative to the place where Chaste test output is stored. If the user needs to know where this is, use the GetChasteTestOutputDirectory method.</p>
<p>Will check that the directory exists and create it if needed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This MUST be called collectively, since it contains a barrier call.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rDirectory</td><td>the directory to put output files in. </td></tr>
    <tr><td class="paramname">cleanOutputDirectory</td><td>whether to remove any existing files in the output directory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00085">85</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8cpp_source.html#l00111">CommonConstructor()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e5f1c926e37a9b1bff12e43902113b4"></a><!-- doxytag: member="OutputFileHandler::OutputFileHandler" ref="a2e5f1c926e37a9b1bff12e43902113b4" args="(const FileFinder &amp;rDirectory, bool cleanOutputDirectory=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OutputFileHandler::OutputFileHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&#160;</td>
          <td class="paramname"><em>rDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>cleanOutputDirectory</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an <a class="el" href="classOutputFileHandler.html">OutputFileHandler</a> that will create output files in the given directory. This must be located inside the folder where Chaste test output is stored, and will typically be obtained with the FindFile method of this class from a parent handler.</p>
<p>Will check that the directory exists and create it if needed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This MUST be called collectively, since it contains a barrier call.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rDirectory</td><td>the directory to put output files in </td></tr>
    <tr><td class="paramname">cleanOutputDirectory</td><td>whether to remove any existing files in the output directory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00092">92</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00056">RelativeTo::ChasteTestOutput</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00111">CommonConstructor()</a>, <a class="el" href="Exception_8hpp_source.html#l00143">EXCEPTION</a>, <a class="el" href="FileFinder_8cpp_source.html#l00193">FileFinder::GetAbsolutePath()</a>, and <a class="el" href="FileFinder_8cpp_source.html#l00233">FileFinder::GetRelativePath()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0c97261c6ead74c5da4e527c4812400e"></a><!-- doxytag: member="OutputFileHandler::AddTrailingSlash" ref="a0c97261c6ead74c5da4e527c4812400e" args="(std::string &amp;rDirectory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutputFileHandler::AddTrailingSlash </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>rDirectory</em></td><td>)</td>
          <td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes a reference to a string and adds a trailing slash if one is not already present</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rDirectory</td><td>The directory name to add a trailing slash to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00246">246</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00165">MakeFoldersAndReturnFullPath()</a>.</p>

</div>
</div>
<a class="anchor" id="a8dea37b0562ff67270b53026bb7304d7"></a><!-- doxytag: member="OutputFileHandler::CommonConstructor" ref="a8dea37b0562ff67270b53026bb7304d7" args="(const std::string &amp;rDirectory, bool cleanOutputDirectory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutputFileHandler::CommonConstructor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>cleanOutputDirectory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Functionality common to both constructors.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rDirectory</td><td>relative path to the directory to put output files in </td></tr>
    <tr><td class="paramname">cleanOutputDirectory</td><td>whether to remove any existing files in the output directory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00111">111</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00058">RelativeTo::Absolute</a>, <a class="el" href="PetscTools_8cpp_source.html#l00105">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00119">PetscTools::Barrier()</a>, <a class="el" href="Exception_8hpp_source.html#l00143">EXCEPTION</a>, <a class="el" href="FileFinder_8cpp_source.html#l00152">FileFinder::Exists()</a>, <a class="el" href="FileFinder_8cpp_source.html#l00421">FileFinder::IsAbsolutePath()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00165">MakeFoldersAndReturnFullPath()</a>, <a class="el" href="OutputFileHandler_8hpp_source.html#l00162">mDirectory</a>, and <a class="el" href="OutputFileHandler_8hpp_source.html#l00158">SIG_FILE_NAME</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00085">OutputFileHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="a930c6d614f719883e5d54d1b325eb714"></a><!-- doxytag: member="OutputFileHandler::CopyFileTo" ref="a930c6d614f719883e5d54d1b325eb714" args="(const FileFinder &amp;rSourceFile) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileFinder.html">FileFinder</a> OutputFileHandler::CopyFileTo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&#160;</td>
          <td class="paramname"><em>rSourceFile</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy the given file to this output directory.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This MUST be called collectively, since it contains a barrier call.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rSourceFile</td><td>the file to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the copied file </dd></dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00255">255</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00058">RelativeTo::Absolute</a>, <a class="el" href="PetscTools_8cpp_source.html#l00105">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00119">PetscTools::Barrier()</a>, <a class="el" href="Exception_8hpp_source.html#l00143">EXCEPTION</a>, <a class="el" href="FileFinder_8cpp_source.html#l00193">FileFinder::GetAbsolutePath()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00214">GetOutputDirectoryFullPath()</a>, <a class="el" href="FileFinder_8cpp_source.html#l00157">FileFinder::IsFile()</a>, and <a class="el" href="Exception_8hpp_source.html#l00168">TERMINATE</a>.</p>

<p>Referenced by <a class="el" href="CellMLLoader_8cpp_source.html#l00050">CellMLLoader::LoadCellMLFile()</a>.</p>

</div>
</div>
<a class="anchor" id="afa249d4ec233e22a2de8ff3b261acce5"></a><!-- doxytag: member="OutputFileHandler::FindFile" ref="afa249d4ec233e22a2de8ff3b261acce5" args="(std::string leafName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileFinder.html">FileFinder</a> OutputFileHandler::FindFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>leafName</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a <a class="el" href="classFileFinder.html">FileFinder</a> for a file in this output directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">leafName</td><td>the name of the file to find </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00279">279</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00058">RelativeTo::Absolute</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00214">GetOutputDirectoryFullPath()</a>.</p>

<p>Referenced by <a class="el" href="CellMLLoader_8cpp_source.html#l00050">CellMLLoader::LoadCellMLFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f5e0618de55107606ee23a5d60c0b41"></a><!-- doxytag: member="OutputFileHandler::GetChasteTestOutputDirectory" ref="a0f5e0618de55107606ee23a5d60c0b41" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OutputFileHandler::GetChasteTestOutputDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Static method for getting the test output directory (the directory where chaste stores test output). This is set from the environment variable CHASTE_TEST_OUTPUT, and defaults to "./testoutput" if it is not set.</p>
<p>Attempts to return an absolute path, but may get confused by odd setups.</p>
<p>Static so an output file handler does not have to be created if the test output directory is wanted for, say, reading a file. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00148">148</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00059">RelativeTo::AbsoluteOrCwd</a>, <a class="el" href="FileFinder_8hpp_source.html#l00055">RelativeTo::CWD</a>, <a class="el" href="FileFinder_8cpp_source.html#l00193">FileFinder::GetAbsolutePath()</a>, and <a class="el" href="FileFinder_8cpp_source.html#l00076">FileFinder::SetPath()</a>.</p>

<p>Referenced by <a class="el" href="ArchiveLocationInfo_8cpp_source.html#l00110">ArchiveLocationInfo::GetArchiveRelativePath()</a>, <a class="el" href="ArchiveLocationInfo_8cpp_source.html#l00126">ArchiveLocationInfo::GetIsDirRelativeToChasteTestOutput()</a>, <a class="el" href="AbstractCardiacProblem_8cpp_source.html#l00726">AbstractCardiacProblem&lt; ELEMENT_DIM, SPACE_DIM, PROBLEM_DIM &gt;::InitialiseWriter()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00165">MakeFoldersAndReturnFullPath()</a>, <a class="el" href="FileFinder_8cpp_source.html#l00289">FileFinder::Remove()</a>, and <a class="el" href="FileFinder_8cpp_source.html#l00076">FileFinder::SetPath()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9c41bd287378a80f884d9860fb14f27"></a><!-- doxytag: member="OutputFileHandler::GetOutputDirectoryFullPath" ref="ab9c41bd287378a80f884d9860fb14f27" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OutputFileHandler::GetOutputDirectoryFullPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the full pathname to the directory this object will create files in. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00214">214</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8hpp_source.html#l00162">mDirectory</a>.</p>

<p>Referenced by <a class="el" href="ColumnDataReader_8cpp_source.html#l00059">ColumnDataReader::ColumnDataReader()</a>, <a class="el" href="AbstractConvergenceTester_8hpp_source.html#l00243">AbstractConvergenceTester&lt; CELL, CARDIAC_PROBLEM, DIM, PROBLEM_DIM &gt;::Converge()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00255">CopyFileTo()</a>, <a class="el" href="CardiacSimulation_8hpp_source.html#l00098">CardiacSimulation::CreateAndRun()</a>, <a class="el" href="CardiacSimulation_8cpp_source.html#l00059">CardiacSimulation::CreateResumeXmlFile()</a>, <a class="el" href="CylindricalHoneycombMeshGenerator_8cpp_source.html#l00042">CylindricalHoneycombMeshGenerator::CylindricalHoneycombMeshGenerator()</a>, <a class="el" href="Hdf5DataWriter_8cpp_source.html#l00455">Hdf5DataWriter::EndDefineMode()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00279">FindFile()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00097">ColumnDataWriter::GetOutputDirectory()</a>, <a class="el" href="Hdf5DataWriter_8cpp_source.html#l00050">Hdf5DataWriter::Hdf5DataWriter()</a>, <a class="el" href="HoneycombMeshGenerator_8cpp_source.html#l00045">HoneycombMeshGenerator::HoneycombMeshGenerator()</a>, <a class="el" href="CardiacSimulationArchiver_8cpp_source.html#l00074">CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt;::Save()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00240">SetArchiveDirectory()</a>, <a class="el" href="AdaptiveBidomainProblem_8cpp_source.html#l00358">AdaptiveBidomainProblem::Solve()</a>, and <a class="el" href="HeartConfig_8cpp_source.html#l00242">HeartConfig::Write()</a>.</p>

</div>
</div>
<a class="anchor" id="ad025dfce73b584c1dd8615d869a5104c"></a><!-- doxytag: member="OutputFileHandler::MakeFoldersAndReturnFullPath" ref="ad025dfce73b584c1dd8615d869a5104c" args="(const std::string &amp;rDirectory) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OutputFileHandler::MakeFoldersAndReturnFullPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rDirectory</em></td><td>)</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check that the desired output directory exists and is writable by us. Create it if needed. Return the full pathname of the output directory.</p>
<p>The environment variable CHASTE_TEST_OUTPUT will be examined. If it is set and non-empty it is taken to be a directory where test output should be stored. Otherwise the current directory is used.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Contains a barrier, so must be called collectively.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rDirectory</td><td>pathname of the output directory, relative to where Chaste output will be stored (user shouldn't care about this). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>full pathname to the output directory </dd></dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00165">165</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8cpp_source.html#l00246">AddTrailingSlash()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00105">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00119">PetscTools::Barrier()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00148">GetChasteTestOutputDirectory()</a>, <a class="el" href="OutputFileHandler_8hpp_source.html#l00158">SIG_FILE_NAME</a>, and <a class="el" href="Exception_8hpp_source.html#l00168">TERMINATE</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00111">CommonConstructor()</a>.</p>

</div>
</div>
<a class="anchor" id="a1941440bd3ffaf07ec8f9e4ec5eeb074"></a><!-- doxytag: member="OutputFileHandler::OpenOutputFile" ref="a1941440bd3ffaf07ec8f9e4ec5eeb074" args="(const std::string &amp;rFileName, unsigned number, const std::string &amp;rFileFormat, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">out_stream OutputFileHandler::OpenOutputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rFileFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ios_base::openmode&#160;</td>
          <td class="paramname"><em>mode</em> = <code>std::ios::out&#160;|&#160;std::ios::trunc</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This just calls the other OpenOutputFile after concatenating the first three arguments together to make the full filename. For example OpenOutputFile("results_", 3, ".dat") creates results_3.dat. See documentation for OpenOutputFile(std::string, std::ios_base::openmode).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rFileName</td><td>the root name of the file to open </td></tr>
    <tr><td class="paramname">number</td><td>the number to append to the root name of the file </td></tr>
    <tr><td class="paramname">rFileFormat</td><td>the file format </td></tr>
    <tr><td class="paramname">mode</td><td>optionally, flags to use when opening the file (defaults are as for std::ofstream). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00230">230</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8cpp_source.html#l00219">OpenOutputFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a01752f10d7d7a15355363ee63ce681fe"></a><!-- doxytag: member="OutputFileHandler::OpenOutputFile" ref="a01752f10d7d7a15355363ee63ce681fe" args="(const std::string &amp;rFileName, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">out_stream OutputFileHandler::OpenOutputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ios_base::openmode&#160;</td>
          <td class="paramname"><em>mode</em> = <code>std::ios::out&#160;|&#160;std::ios::trunc</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open an output file in our directory, and check it was opened successfully. Throws an <a class="el" href="classException.html">Exception</a> if not.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rFileName</td><td>the name of the file to open, relative to the output directory. </td></tr>
    <tr><td class="paramname">mode</td><td>optionally, flags to use when opening the file (defaults are as for std::ofstream). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a managed pointer to the opened file stream. </dd></dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00219">219</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="Exception_8hpp_source.html#l00143">EXCEPTION</a>, and <a class="el" href="OutputFileHandler_8hpp_source.html#l00162">mDirectory</a>.</p>

<p>Referenced by <a class="el" href="AbstractHdf5Converter_8cpp_source.html#l00040">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::AbstractHdf5Converter()</a>, <a class="el" href="AbstractConvergenceTester_8hpp_source.html#l00243">AbstractConvergenceTester&lt; CELL, CARDIAC_PROBLEM, DIM, PROBLEM_DIM &gt;::Converge()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00323">ColumnDataWriter::CreateFixedDimensionFile()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00352">ColumnDataWriter::CreateInfoFile()</a>, <a class="el" href="CellMLToSharedLibraryConverter_8cpp_source.html#l00197">CellMLToSharedLibraryConverter::CreateOptionsFile()</a>, <a class="el" href="VertexBasedCellPopulation_8cpp_source.html#l00611">VertexBasedCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="PottsBasedCellPopulation_8cpp_source.html#l00328">PottsBasedCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="MultipleCaBasedCellPopulation_8cpp_source.html#l00372">MultipleCaBasedCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="MeshBasedCellPopulation_8cpp_source.html#l00381">MeshBasedCellPopulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="AbstractCellPopulation_8cpp_source.html#l00374">AbstractCellPopulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="CardiacSimulation_8cpp_source.html#l00059">CardiacSimulation::CreateResumeXmlFile()</a>, <a class="el" href="CylindricalHoneycombMeshGenerator_8cpp_source.html#l00042">CylindricalHoneycombMeshGenerator::CylindricalHoneycombMeshGenerator()</a>, <a class="el" href="CardiacElectroMechanicsProblem_8cpp_source.html#l00061">CardiacElectroMechanicsProblem&lt; DIM, ELEC_PROB_DIM &gt;::DetermineWatchedNodes()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00231">ColumnDataWriter::EndDefineMode()</a>, <a class="el" href="StreeterFibreGenerator_8cpp_source.html#l00163">StreeterFibreGenerator&lt; SPACE_DIM &gt;::GenerateOrthotropicFibreOrientation()</a>, <a class="el" href="Hdf5ToTxtConverter_8cpp_source.html#l00047">Hdf5ToTxtConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Hdf5ToTxtConverter()</a>, <a class="el" href="HoneycombMeshGenerator_8cpp_source.html#l00045">HoneycombMeshGenerator::HoneycombMeshGenerator()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00230">OpenOutputFile()</a>, <a class="el" href="CellBasedPdeHandler_8cpp_source.html#l00171">CellBasedPdeHandler&lt; DIM &gt;::OpenResultsFiles()</a>, <a class="el" href="AbstractCellBasedSimulation_8cpp_source.html#l00516">AbstractCellBasedSimulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::OutputSimulationSetup()</a>, <a class="el" href="ExecutableSupport_8cpp_source.html#l00259">ExecutableSupport::PrintError()</a>, <a class="el" href="ProgressReporter_8cpp_source.html#l00042">ProgressReporter::ProgressReporter()</a>, <a class="el" href="LogFile_8cpp_source.html#l00073">LogFile::Set()</a>, <a class="el" href="OnLatticeSimulation_8cpp_source.html#l00173">OnLatticeSimulation&lt; DIM &gt;::SetupSolve()</a>, <a class="el" href="OffLatticeSimulation_8cpp_source.html#l00347">OffLatticeSimulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::SetupSolve()</a>, <a class="el" href="CryptSimulation2d_8cpp_source.html#l00169">CryptSimulation2d::SetupWriteBetaCatenin()</a>, <a class="el" href="SimpleDataWriter_8cpp_source.html#l00040">SimpleDataWriter::SimpleDataWriter()</a>, <a class="el" href="AbstractCellBasedSimulation_8cpp_source.html#l00284">AbstractCellBasedSimulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::Solve()</a>, <a class="el" href="LinearParabolicPdeSystemWithCoupledOdeSystemSolver_8hpp_source.html#l00451">LinearParabolicPdeSystemWithCoupledOdeSystemSolver&lt; ELEMENT_DIM, SPACE_DIM, PROBLEM_DIM &gt;::SolveAndWriteResultsToFile()</a>, <a class="el" href="OffLatticeSimulation_8cpp_source.html#l00247">OffLatticeSimulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::UpdateNodePositions()</a>, <a class="el" href="AbstractPerElementWriter_8hpp_source.html#l00104">AbstractPerElementWriter&lt; ELEMENT_DIM, SPACE_DIM, DATA_SIZE &gt;::WriteData()</a>, <a class="el" href="PostProcessingWriter_8cpp_source.html#l00356">PostProcessingWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteGenericFileToMeshalyzer()</a>, <a class="el" href="HeartGeometryInformation_8cpp_source.html#l00378">HeartGeometryInformation&lt; SPACE_DIM &gt;::WriteLayerForEachNode()</a>, <a class="el" href="ExecutableSupport_8cpp_source.html#l00121">ExecutableSupport::WriteMachineInfoFile()</a>, <a class="el" href="ExecutableSupport_8cpp_source.html#l00169">ExecutableSupport::WriteProvenanceInfoFile()</a>, <a class="el" href="PseudoEcgCalculator_8cpp_source.html#l00126">PseudoEcgCalculator&lt; ELEMENT_DIM, SPACE_DIM, PROBLEM_DIM &gt;::WritePseudoEcg()</a>, <a class="el" href="DiscreteSystemForceCalculator_8cpp_source.html#l00088">DiscreteSystemForceCalculator::WriteResultsToFile()</a>, <a class="el" href="AbstractCentreBasedCellPopulation_8cpp_source.html#l00253">AbstractCentreBasedCellPopulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteTimeAndNodeResultsToFiles()</a>, and <a class="el" href="AbstractCellPopulation_8cpp_source.html#l00692">AbstractCellPopulation&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteTimeAndNodeResultsToFiles()</a>.</p>

</div>
</div>
<a class="anchor" id="a52d00a19d079ac9f85812ba3a313221f"></a><!-- doxytag: member="OutputFileHandler::SetArchiveDirectory" ref="a52d00a19d079ac9f85812ba3a313221f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutputFileHandler::SetArchiveDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper method to set up <a class="el" href="classArchiveLocationInfo.html">ArchiveLocationInfo</a>. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00240">240</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00058">RelativeTo::Absolute</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00214">GetOutputDirectoryFullPath()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a1d1869884c12fd025cd2b9eb159db41b"></a><!-- doxytag: member="OutputFileHandler::SIG_FILE_NAME" ref="a1d1869884c12fd025cd2b9eb159db41b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classOutputFileHandler.html#a1d1869884c12fd025cd2b9eb159db41b">OutputFileHandler::SIG_FILE_NAME</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The name of the Chaste signature file added to folders we create. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8hpp_source.html#l00158">158</a> of file <a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00111">CommonConstructor()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00165">MakeFoldersAndReturnFullPath()</a>, and <a class="el" href="FileFinder_8cpp_source.html#l00289">FileFinder::Remove()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>global/src/<a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a></li>
<li>global/src/<a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classOutputFileHandler.html">OutputFileHandler</a>      </li>
      <li class="footer">Generated on Mon Nov 5 2012 12:47:37 for Chaste by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
