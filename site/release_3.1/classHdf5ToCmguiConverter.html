<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Chaste&#160;<span id="projectnumber">Release::3.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classHdf5ToCmguiConverter.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt; Class Template Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Hdf5ToCmguiConverter" --><!-- doxytag: inherits="AbstractHdf5Converter" -->
<p><code>#include &lt;<a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html">Hdf5ToCmguiConverter.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classHdf5ToCmguiConverter__inherit__graph.png" border="0" usemap="#Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_inherit__map" id="Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_inherit__map">
<area shape="rect" href="classAbstractHdf5Converter.html" title="{AbstractHdf5Converter\&lt; ELEMENT_DIM, SPACE_DIM \&gt;\n|# mpReader\l# mNumVariables\l# mFileBaseName\l# mpMesh\l# mpOutputFileHandler\l# mRelativeSubdirectory\l|+ AbstractHdf5Converter()\l+ ~AbstractHdf5Converter()\l+ GetSubdirectory()\l}" alt="" coords="7,6,367,208"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classHdf5ToCmguiConverter__coll__graph.png" border="0" usemap="#Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_coll__map" id="Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_coll__map">
<area shape="rect" href="classAbstractHdf5Converter.html" title="{AbstractHdf5Converter\&lt; ELEMENT_DIM, SPACE_DIM \&gt;\n|# mpReader\l# mNumVariables\l# mFileBaseName\l# mpMesh\l# mpOutputFileHandler\l# mRelativeSubdirectory\l|+ AbstractHdf5Converter()\l+ ~AbstractHdf5Converter()\l+ GetSubdirectory()\l}" alt="" coords="1329,813,1689,1016"/><area shape="rect" href="classHdf5DataReader.html" title="{Hdf5DataReader\n|&#45; mDirectory\l&#45; mBaseName\l&#45; mFileId\l&#45; mVariablesDatasetId\l&#45; mVariablesDatasetRank\l&#45; mVariablesDatasetSizes\l&#45; mIsUnlimitedDimensionSet\l&#45; mTimeDatasetId\l&#45; mNumberTimesteps\l&#45; mVariableNames\l&#45; mVariableToColumnIndex\l&#45; mVariableToUnit\l&#45; mIsDataComplete\l&#45; mIncompleteNodeIndices\l&#45; mClosed\l&#45; MAX_DATASET_RANK\l|+ Hdf5DataReader()\l+ Hdf5DataReader()\l+ GetVariableOverTime()\l+ GetVariableOverTimeOverMultipleNodes()\l+ GetVariableOverNodes()\l+ GetUnlimitedDimensionValues()\l+ GetNumberOfRows()\l+ GetVariableNames()\l+ GetUnit()\l+ IsDataComplete()\l+ GetIncompleteNodeMap()\l+ Close()\l+ ~Hdf5DataReader()\l&#45; CommonConstructor()\l}" alt="" coords="621,189,899,749"/><area shape="rect" href="classbool.html" title="{bool\n||}" alt="" coords="183,6,228,89"/><area shape="rect" href="classOutputFileHandler.html" title="{OutputFileHandler\n|+ SIG_FILE_NAME\l&#45; mDirectory\l|+ OutputFileHandler()\l+ OutputFileHandler()\l+ GetOutputDirectoryFullPath()\l+ SetArchiveDirectory()\l+ OpenOutputFile()\l+ OpenOutputFile()\l+ CopyFileTo()\l+ FindFile()\l+ GetChasteTestOutputDirectory()\l&#45; CommonConstructor()\l&#45; MakeFoldersAndReturnFullPath()\l&#45; AddTrailingSlash()\l}" alt="" coords="1665,325,1887,613"/><area shape="rect" href="classunsigned.html" title="{unsigned\n||}" alt="" coords="1252,6,1324,89"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classHdf5ToCmguiConverter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHdf5ToCmguiConverter.html#aeded7c9d6e8eb249374e97ae7da3bafe">Hdf5ToCmguiConverter</a> (std::string inputDirectory, std::string fileBaseName, <a class="el" href="classAbstractTetrahedralMesh.html">AbstractTetrahedralMesh</a>&lt; ELEMENT_DIM, SPACE_DIM &gt; *pMesh, <a class="el" href="classbool.html">bool</a> hasBath=false)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHdf5ToCmguiConverter.html#aed5bf794d76e270f454b9e8d610f33eb">Write</a> (std::string type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHdf5ToCmguiConverter.html#a3bd0b21ee90c5688831bbf03ec9f9fa5">WriteCmguiScript</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt;<br/>
class Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;</h3>

<p>This class converts from Hdf5 format to Cmgui format. The output will be one .exnode file per time step. The format that cmgui accepts is (after the headers):</p>
<p><a class="el" href="classNode.html">Node</a>: 1 Value_at_node_1 <a class="el" href="classNode.html">Node</a>:2 Value_at_node_2 .....</p>
<p>For bidomain simulations, we will have two fields, one for Vm and one for Phie. The Cmgui format for two fields is as follows:</p>
<p><a class="el" href="classNode.html">Node</a>: 1 Vm_node_1 Phie_at_node_1 <a class="el" href="classNode.html">Node</a>:2 Vm_at_node_2 Phie_at_node_2 ..... </p>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html#l00064">64</a> of file <a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html">Hdf5ToCmguiConverter.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeded7c9d6e8eb249374e97ae7da3bafe"></a><!-- doxytag: member="Hdf5ToCmguiConverter::Hdf5ToCmguiConverter" ref="aeded7c9d6e8eb249374e97ae7da3bafe" args="(std::string inputDirectory, std::string fileBaseName, AbstractTetrahedralMesh&lt; ELEMENT_DIM, SPACE_DIM &gt; *pMesh, bool hasBath=false)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>&lt; ELEMENT_DIM, SPACE_DIM &gt;::<a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>inputDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fileBaseName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAbstractTetrahedralMesh.html">AbstractTetrahedralMesh</a>&lt; ELEMENT_DIM, SPACE_DIM &gt; *&#160;</td>
          <td class="paramname"><em>pMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>hasBath</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor, which does the conversion.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method is collective, and hence must be called by all processes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">inputDirectory</td><td>The input directory, relative to CHASTE_TEST_OUTPUT, where the .h5 file has been written </td></tr>
    <tr><td class="paramname">fileBaseName</td><td>The base name of the data file. </td></tr>
    <tr><td class="paramname">pMesh</td><td>Pointer to the mesh. </td></tr>
    <tr><td class="paramname">hasBath</td><td>whether the mesh has a bath or not. Defaults to false. </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>What if the mesh has been scaled, translated or rotated? </dd></dl>
</p>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00137">137</a> of file <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00119">PetscTools::Barrier()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l01341">HeartConfig::GetOutputDirectory()</a>, <a class="el" href="Hdf5DataReader_8cpp_source.html#l00449">Hdf5DataReader::GetVariableNames()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l00196">HeartConfig::Instance()</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00063">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpMesh</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00054">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpReader</a>, <a class="el" href="CmguiMeshWriter_8cpp_source.html#l00151">CmguiMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::SetAdditionalFieldNames()</a>, <a class="el" href="CmguiMeshWriter_8cpp_source.html#l00157">CmguiMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::SetRegionNames()</a>, <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00049">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Write()</a>, <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00183">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteCmguiScript()</a>, <a class="el" href="AbstractTetrahedralMeshWriter_8cpp_source.html#l00475">AbstractTetrahedralMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFilesUsingMesh()</a>, and <a class="el" href="AbstractMeshWriter_8cpp_source.html#l00121">AbstractMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFilesUsingMeshReader()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aed5bf794d76e270f454b9e8d610f33eb"></a><!-- doxytag: member="Hdf5ToCmguiConverter::Write" ref="aed5bf794d76e270f454b9e8d610f33eb" args="(std::string type)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>&lt; ELEMENT_DIM, SPACE_DIM &gt;::Write </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A helper method which takes in a string, which must be 'Mono' or 'Bi' and reads the data from the hdf5 file, writing it out in Cmgui format.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the type of simulation (Mono or Bi) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00049">49</a> of file <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00105">PetscTools::AmMaster()</a>, <a class="el" href="DistributedVectorFactory_8cpp_source.html#l00154">DistributedVectorFactory::CreateVec()</a>, <a class="el" href="PetscTools_8hpp_source.html#l00303">PetscTools::Destroy()</a>, <a class="el" href="classChasteBuildInfo.html#af5842208aedc7b8b880e0942b2448acd">ChasteBuildInfo::GetProvenanceString()</a>, <a class="el" href="ReplicatableVector_8cpp_source.html#l00101">ReplicatableVector::GetSize()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l02019">HeartConfig::GetVisualizerOutputPrecision()</a>, and <a class="el" href="HeartConfig_8cpp_source.html#l00196">HeartConfig::Instance()</a>.</p>

<p>Referenced by <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00137">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Hdf5ToCmguiConverter()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bd0b21ee90c5688831bbf03ec9f9fa5"></a><!-- doxytag: member="Hdf5ToCmguiConverter::WriteCmguiScript" ref="a3bd0b21ee90c5688831bbf03ec9f9fa5" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteCmguiScript </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes a basic script for visualization of mesh and data.</p>
<p>It loads the nodes and elements. It also asks cmgui to create faces and lines (because our output files don't have the information). Data are loaded by means of a 'for' loop.</p>
<p>After loading the script, nodes (seen as small dots) and lines connecting them will be displayed. Both nodes and lines will be coloured according to the first variable in the Hdf5 file (usually Vm). The Cmgui default spectrum (0 to 1, blue to red) is used. This can be changed by clicking on 'graphics-&gt;spectrum editor'. Other manual modification can be made by clicking on 'graphics-&gt;scene editor'. </p>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00183">183</a> of file <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00105">PetscTools::AmMaster()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l01348">HeartConfig::GetOutputFilenamePrefix()</a>, <a class="el" href="classChasteBuildInfo.html#af5842208aedc7b8b880e0942b2448acd">ChasteBuildInfo::GetProvenanceString()</a>, and <a class="el" href="HeartConfig_8cpp_source.html#l00196">HeartConfig::Instance()</a>.</p>

<p>Referenced by <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00137">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Hdf5ToCmguiConverter()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>heart/src/postprocessing/<a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html">Hdf5ToCmguiConverter.hpp</a></li>
<li>heart/src/postprocessing/<a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>      </li>
      <li class="footer">Generated on Mon Nov 5 2012 12:47:36 for Chaste by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
