<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: DynamicModelLoaderRegistry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Chaste&#160;<span id="projectnumber">Release::3.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classDynamicModelLoaderRegistry.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DynamicModelLoaderRegistry Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="DynamicModelLoaderRegistry" --><!-- doxytag: inherits="boost::noncopyable" -->
<p><code>#include &lt;<a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html">DynamicModelLoaderRegistry.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for DynamicModelLoaderRegistry:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDynamicModelLoaderRegistry__inherit__graph.png" border="0" usemap="#DynamicModelLoaderRegistry_inherit__map" alt="Inheritance graph"/></div>
<map name="DynamicModelLoaderRegistry_inherit__map" id="DynamicModelLoaderRegistry_inherit__map">
<area shape="rect" href="classboost_1_1noncopyable.html" title="{noncopyable\n||}" alt="" coords="64,7,157,90"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for DynamicModelLoaderRegistry:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDynamicModelLoaderRegistry__coll__graph.png" border="0" usemap="#DynamicModelLoaderRegistry_coll__map" alt="Collaboration graph"/></div>
<map name="DynamicModelLoaderRegistry_coll__map" id="DynamicModelLoaderRegistry_coll__map">
<area shape="rect" href="classboost_1_1noncopyable.html" title="{noncopyable\n||}" alt="" coords="5,7,99,90"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classDynamicModelLoaderRegistry-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DynamicCellModelLoaderPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#a2a28d1fcb10dc1ccf173d2a699799f73">GetLoader</a> (const std::string &amp;rPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DynamicCellModelLoaderPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#acb1ca1067c53449802ed37418cd9ef4f">GetLoader</a> (const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rFileFinder)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#af2c5485be57c367744cd1cf439baf949">ScheduleForDeletion</a> (DynamicCellModelLoaderPtr pLoader)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classDynamicModelLoaderRegistry.html">DynamicModelLoaderRegistry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#aed4ac18cd2828be37d8f93f5e9b941fd">Instance</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#a6400ac7e1e233791c8cb80ec75aeebe7">DynamicModelLoaderRegistry</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
DynamicCellModelLoaderWeakPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#a5351842694c196d1820373c13150c354">mLoaders</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set<br class="typebreak"/>
&lt; DynamicCellModelLoaderPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#a8c51ab8c60e5db656ca3e6afc62bf534">mDeletableLoaders</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="classDynamicModelLoaderRegistry.html">DynamicModelLoaderRegistry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDynamicModelLoaderRegistry.html#a0e1e0686c8e39494e6db6b06ffcefefa">mpInstance</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class provides a static registry to keep track of the cell model loaders used, hence ensuring that we don't have a given .so loaded more than once at any given point. </p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00054">54</a> of file <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html">DynamicModelLoaderRegistry.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6400ac7e1e233791c8cb80ec75aeebe7"></a><!-- doxytag: member="DynamicModelLoaderRegistry::DynamicModelLoaderRegistry" ref="a6400ac7e1e233791c8cb80ec75aeebe7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DynamicModelLoaderRegistry::DynamicModelLoaderRegistry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Private constructor; all access should be via <a class="el" href="classDynamicModelLoaderRegistry.html#aed4ac18cd2828be37d8f93f5e9b941fd">Instance()</a>. </p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00081">81</a> of file <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html">DynamicModelLoaderRegistry.cpp</a>.</p>

<p>Referenced by <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00039">Instance()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2a28d1fcb10dc1ccf173d2a699799f73"></a><!-- doxytag: member="DynamicModelLoaderRegistry::GetLoader" ref="a2a28d1fcb10dc1ccf173d2a699799f73" args="(const std::string &amp;rPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DynamicCellModelLoaderPtr DynamicModelLoaderRegistry::GetLoader </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the loader for the given .so file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rPath</td><td>absolute path to the .so </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>#1957 causes segfaults </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>#1957 remove when unloading working </dd></dl>
</p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00048">48</a> of file <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html">DynamicModelLoaderRegistry.cpp</a>.</p>

<p>References <a class="el" href="DynamicCellModelLoader_8cpp_source.html#l00044">DynamicCellModelLoader::Create()</a>, <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00088">mLoaders</a>, and <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00076">ScheduleForDeletion()</a>.</p>

<p>Referenced by <a class="el" href="CellMLToSharedLibraryConverter_8cpp_source.html#l00058">CellMLToSharedLibraryConverter::Convert()</a>, <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00071">GetLoader()</a>, <a class="el" href="AbstractCardiacTissue_8hpp_source.html#l00567">AbstractCardiacTissue&lt; SPACE_DIM &gt;::LoadCardiacCells()</a>, and <a class="el" href="ExtendedBidomainTissue_8hpp_source.html#l00465">ExtendedBidomainTissue&lt; DIM &gt;::LoadExtendedBidomainCells()</a>.</p>

</div>
</div>
<a class="anchor" id="acb1ca1067c53449802ed37418cd9ef4f"></a><!-- doxytag: member="DynamicModelLoaderRegistry::GetLoader" ref="acb1ca1067c53449802ed37418cd9ef4f" args="(const FileFinder &amp;rFileFinder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DynamicCellModelLoaderPtr DynamicModelLoaderRegistry::GetLoader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&#160;</td>
          <td class="paramname"><em>rFileFinder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the loader for the given .so file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rFileFinder</td><td>finder for the .so file </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00071">71</a> of file <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html">DynamicModelLoaderRegistry.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8cpp_source.html#l00193">FileFinder::GetAbsolutePath()</a>, and <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00048">GetLoader()</a>.</p>

</div>
</div>
<a class="anchor" id="aed4ac18cd2828be37d8f93f5e9b941fd"></a><!-- doxytag: member="DynamicModelLoaderRegistry::Instance" ref="aed4ac18cd2828be37d8f93f5e9b941fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDynamicModelLoaderRegistry.html">DynamicModelLoaderRegistry</a> * DynamicModelLoaderRegistry::Instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the single instance of the registry. </p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00039">39</a> of file <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html">DynamicModelLoaderRegistry.cpp</a>.</p>

<p>References <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00081">DynamicModelLoaderRegistry()</a>, and <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00094">mpInstance</a>.</p>

<p>Referenced by <a class="el" href="CellMLToSharedLibraryConverter_8cpp_source.html#l00058">CellMLToSharedLibraryConverter::Convert()</a>, <a class="el" href="AbstractDynamicallyLoadableEntity_8hpp_source.html#l00091">AbstractDynamicallyLoadableEntity::load()</a>, <a class="el" href="AbstractCardiacTissue_8hpp_source.html#l00567">AbstractCardiacTissue&lt; SPACE_DIM &gt;::LoadCardiacCells()</a>, <a class="el" href="ExtendedBidomainTissue_8hpp_source.html#l00465">ExtendedBidomainTissue&lt; DIM &gt;::LoadExtendedBidomainCells()</a>, and <a class="el" href="AbstractDynamicallyLoadableEntity_8cpp_source.html#l00050">AbstractDynamicallyLoadableEntity::~AbstractDynamicallyLoadableEntity()</a>.</p>

</div>
</div>
<a class="anchor" id="af2c5485be57c367744cd1cf439baf949"></a><!-- doxytag: member="DynamicModelLoaderRegistry::ScheduleForDeletion" ref="af2c5485be57c367744cd1cf439baf949" args="(DynamicCellModelLoaderPtr pLoader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DynamicModelLoaderRegistry::ScheduleForDeletion </td>
          <td>(</td>
          <td class="paramtype">DynamicCellModelLoaderPtr&#160;</td>
          <td class="paramname"><em>pLoader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Schedule the given loader for deletion prior to loading any new .so.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pLoader</td><td>the loader to schedule for deletion </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00076">76</a> of file <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html">DynamicModelLoaderRegistry.cpp</a>.</p>

<p>References <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00091">mDeletableLoaders</a>.</p>

<p>Referenced by <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00048">GetLoader()</a>, and <a class="el" href="AbstractDynamicallyLoadableEntity_8cpp_source.html#l00050">AbstractDynamicallyLoadableEntity::~AbstractDynamicallyLoadableEntity()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8c51ab8c60e5db656ca3e6afc62bf534"></a><!-- doxytag: member="DynamicModelLoaderRegistry::mDeletableLoaders" ref="a8c51ab8c60e5db656ca3e6afc62bf534" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;DynamicCellModelLoaderPtr&gt; <a class="el" href="classDynamicModelLoaderRegistry.html#a8c51ab8c60e5db656ca3e6afc62bf534">DynamicModelLoaderRegistry::mDeletableLoaders</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loaders to be deleted before creating any new ones. </p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00091">91</a> of file <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html">DynamicModelLoaderRegistry.hpp</a>.</p>

<p>Referenced by <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00076">ScheduleForDeletion()</a>.</p>

</div>
</div>
<a class="anchor" id="a5351842694c196d1820373c13150c354"></a><!-- doxytag: member="DynamicModelLoaderRegistry::mLoaders" ref="a5351842694c196d1820373c13150c354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, DynamicCellModelLoaderWeakPtr&gt; <a class="el" href="classDynamicModelLoaderRegistry.html#a5351842694c196d1820373c13150c354">DynamicModelLoaderRegistry::mLoaders</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loaders for shared-library cell models. Weak pointers are used so that the registry doesn't keep loaders alive when all cells created from them have been destroyed. Map is from absolute path of the library, to loader object. </p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00088">88</a> of file <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html">DynamicModelLoaderRegistry.hpp</a>.</p>

<p>Referenced by <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00048">GetLoader()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e1e0686c8e39494e6db6b06ffcefefa"></a><!-- doxytag: member="DynamicModelLoaderRegistry::mpInstance" ref="a0e1e0686c8e39494e6db6b06ffcefefa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt; <a class="el" href="classDynamicModelLoaderRegistry.html">DynamicModelLoaderRegistry</a> &gt; <a class="el" href="classDynamicModelLoaderRegistry.html#a0e1e0686c8e39494e6db6b06ffcefefa">DynamicModelLoaderRegistry::mpInstance</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The single instance of this class.</p>
<p>The loader registry instance </p>

<p>Definition at line <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html#l00094">94</a> of file <a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html">DynamicModelLoaderRegistry.hpp</a>.</p>

<p>Referenced by <a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html#l00039">Instance()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>heart/src/odes/<a class="el" href="DynamicModelLoaderRegistry_8hpp_source.html">DynamicModelLoaderRegistry.hpp</a></li>
<li>heart/src/odes/<a class="el" href="DynamicModelLoaderRegistry_8cpp_source.html">DynamicModelLoaderRegistry.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classDynamicModelLoaderRegistry.html">DynamicModelLoaderRegistry</a>      </li>
      <li class="footer">Generated on Mon Nov 5 2012 12:47:36 for Chaste by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
