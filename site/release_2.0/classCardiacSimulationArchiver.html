<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt; Class Template Reference</h1><!-- doxytag: class="CardiacSimulationArchiver" -->
<p><code>#include &lt;<a class="el" href="CardiacSimulationArchiver_8hpp_source.html">CardiacSimulationArchiver.hpp</a>&gt;</code></p>

<p><a href="classCardiacSimulationArchiver-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCardiacSimulationArchiver.html#af02c88ef857037f9bf109402604fac26">Save</a> (PROBLEM_CLASS &amp;simulationToArchive, const std::string &amp;rDirectory, <a class="el" href="classbool.html">bool</a> clearDirectory=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static PROBLEM_CLASS *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCardiacSimulationArchiver.html#a31ca0240091870257e172dab38fa8b7b">Load</a> (const std::string &amp;rDirectory)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static PROBLEM_CLASS *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCardiacSimulationArchiver.html#a95a99638ed7041b1f12a89357891a636">Migrate</a> (const std::string &amp;rDirectory)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class PROBLEM_CLASS&gt;<br/>
 class CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt;</h3>

<p><a class="el" href="classCardiacSimulationArchiver.html">CardiacSimulationArchiver</a> is a helper class for checkpointing of cardiac simulations.</p>
<p>The class is templated over the class defining the simulation (i.e. <a class="el" href="classMonodomainProblem.html">MonodomainProblem</a>) </p>

<p>Definition at line <a class="el" href="CardiacSimulationArchiver_8hpp_source.html#l00051">51</a> of file <a class="el" href="CardiacSimulationArchiver_8hpp_source.html">CardiacSimulationArchiver.hpp</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a31ca0240091870257e172dab38fa8b7b"></a><!-- doxytag: member="CardiacSimulationArchiver::Load" ref="a31ca0240091870257e172dab38fa8b7b" args="(const std::string &amp;rDirectory)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PROBLEM_CLASS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">PROBLEM_CLASS * <a class="el" href="classCardiacSimulationArchiver.html">CardiacSimulationArchiver</a>&lt; PROBLEM_CLASS &gt;::Load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDirectory</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unarchives a simulation from the directory specified.</p>
<p>Does a migrate if necessary (this is actually just a wrapper around the Migrate method now).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Must be called collectively, i.e. by all processes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rDirectory</em>&nbsp;</td><td>directory where the multiple files defining the checkpoint are located (relative to CHASTE_TEST_OUTPUT) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CardiacSimulationArchiver_8hpp_source.html#l00150">150</a> of file <a class="el" href="CardiacSimulationArchiver_8hpp_source.html">CardiacSimulationArchiver.hpp</a>.</p>

<p>References <a class="el" href="CardiacSimulationArchiver_8hpp_source.html#l00157">CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt;::Migrate()</a>.</p>

</div>
</div>
<a class="anchor" id="a95a99638ed7041b1f12a89357891a636"></a><!-- doxytag: member="CardiacSimulationArchiver::Migrate" ref="a95a99638ed7041b1f12a89357891a636" args="(const std::string &amp;rDirectory)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PROBLEM_CLASS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">PROBLEM_CLASS * <a class="el" href="classCardiacSimulationArchiver.html">CardiacSimulationArchiver</a>&lt; PROBLEM_CLASS &gt;::Migrate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDirectory</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Load a simulation, saved by any number of processes, into the correct number of processes for those currently launched.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Must be called collectively, i.e. by all processes.</dd></dl>
<p>Uses the <a class="el" href="classDistributedVectorFactory.html">DistributedVectorFactory</a> saved in the process 0 archive to work out how many secondary archive files to read, and loads the cells and boundary conditions from these too.</p>
<p>Uses a dumb partition to work out how to distribute the mesh and cells over the processes. If we are loading on the same number of processes as the simulation was saved on, it uses exactly the same distribution as before.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rDirectory</em>&nbsp;</td><td>directory where the multiple files defining the checkpoint are located (relative to CHASTE_TEST_OUTPUT) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="CardiacSimulationArchiver_8hpp_source.html#l00157">157</a> of file <a class="el" href="CardiacSimulationArchiver_8hpp_source.html">CardiacSimulationArchiver.hpp</a>.</p>

<p>References <a class="el" href="ArchiveOpener_8hpp_source.html#l00089">ArchiveOpener&lt; Archive, Stream &gt;::GetCommonArchive()</a>, <a class="el" href="DistributedVectorFactory_8hpp_source.html#l00204">DistributedVectorFactory::GetNumProcs()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00086">PetscTools::GetNumProcs()</a>, <a class="el" href="DistributedVectorFactory_8hpp_source.html#l00235">DistributedVectorFactory::GetOriginalFactory()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00132">OutputFileHandler::GetOutputDirectoryFullPath()</a>, <a class="el" href="ArchiveLocationInfo_8hpp_source.html#l00129">ArchiveLocationInfo::GetProcessUniqueFilePath()</a>, and <a class="el" href="DistributedVectorFactory_8hpp_source.html#l00215">DistributedVectorFactory::SetCheckNumberOfProcessesOnLoad()</a>.</p>

<p>Referenced by <a class="el" href="CardiacSimulationArchiver_8hpp_source.html#l00150">CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt;::Load()</a>.</p>

</div>
</div>
<a class="anchor" id="af02c88ef857037f9bf109402604fac26"></a><!-- doxytag: member="CardiacSimulationArchiver::Save" ref="af02c88ef857037f9bf109402604fac26" args="(PROBLEM_CLASS &amp;simulationToArchive, const std::string &amp;rDirectory, bool clearDirectory=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PROBLEM_CLASS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCardiacSimulationArchiver.html">CardiacSimulationArchiver</a>&lt; PROBLEM_CLASS &gt;::Save </td>
          <td>(</td>
          <td class="paramtype">PROBLEM_CLASS &amp;&nbsp;</td>
          <td class="paramname"> <em>simulationToArchive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>clearDirectory</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Archives a simulation in the directory specified.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Must be called collectively, i.e. by all processes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>simulationToArchive</em>&nbsp;</td><td>object defining the simulation to archive </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rDirectory</em>&nbsp;</td><td>directory where the multiple files defining the checkpoint will be stored (relative to CHASTE_TEST_OUTPUT) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clearDirectory</em>&nbsp;</td><td>whether the directory needs to be cleared or not. </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>#1026 get a real version number! </dd></dl>
</p>

<p>Definition at line <a class="el" href="CardiacSimulationArchiver_8hpp_source.html#l00103">103</a> of file <a class="el" href="CardiacSimulationArchiver_8hpp_source.html">CardiacSimulationArchiver.hpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00098">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00114">PetscTools::Barrier()</a>, <a class="el" href="ArchiveOpener_8hpp_source.html#l00089">ArchiveOpener&lt; Archive, Stream &gt;::GetCommonArchive()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00086">PetscTools::GetNumProcs()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00132">OutputFileHandler::GetOutputDirectoryFullPath()</a>, and <a class="el" href="PetscTools_8cpp_source.html#l00131">PetscTools::ReplicateBool()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/tmp/release_2.0/heart/src/problem/<a class="el" href="CardiacSimulationArchiver_8hpp_source.html">CardiacSimulationArchiver.hpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
