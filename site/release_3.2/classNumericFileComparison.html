<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: NumericFileComparison Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>NumericFileComparison Class Reference</h1><!-- doxytag: class="NumericFileComparison" --><!-- doxytag: inherits="AbstractFileComparison" -->
<p><code>#include &lt;<a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a>&gt;</code></p>

<p>Inherits <a class="el" href="classAbstractFileComparison.html">AbstractFileComparison</a>.</p>
<div class="dynheader">
Collaboration diagram for NumericFileComparison:</div>
<div class="dynsection">
<div class="center"><img src="classNumericFileComparison__coll__graph.png" border="0" usemap="#NumericFileComparison_coll__map" alt="Collaboration graph"/></div>
<map name="NumericFileComparison_coll__map" id="NumericFileComparison_coll__map">
<area shape="rect" id="node2" href="classAbstractFileComparison.html" title="{AbstractFileComparison\n|# mFilename1\l# mFilename2\l# mpFile1\l# mpFile2\l# mLineNum\l# mCalledCollectively\l# mSuppressOutput\l|+ AbstractFileComparison()\l+ AbstractFileComparison()\l+ ~AbstractFileComparison()\l# ResetFiles()\l# SkipHeaderLines()\l&#45; Setup()\l}" alt="" coords="111,182,303,477"/><area shape="rect" id="node6" href="classbool.html" title="{bool\n||}" alt="" coords="107,6,155,95"/><area shape="rect" id="node10" href="classunsigned.html" title="{unsigned\n||}" alt="" coords="349,6,427,95"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classNumericFileComparison-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNumericFileComparison.html#a5a82290380306f316f3489cec6f2f746">NumericFileComparison</a> (std::string fileName1, std::string fileName2, <a class="el" href="classbool.html">bool</a> calledCollectively=true, <a class="el" href="classbool.html">bool</a> suppressOutput=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNumericFileComparison.html#a35c337209307e73f4ef05e8dc1977665">NumericFileComparison</a> (const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rFileName1, const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rFileName2, <a class="el" href="classbool.html">bool</a> calledCollectively=true, <a class="el" href="classbool.html">bool</a> suppressOutput=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNumericFileComparison.html#ac875c05e1d6b5945b431587eb6c50f3d">CompareFiles</a> (<a class="el" href="classdouble.html">double</a> absTol=DBL_EPSILON, <a class="el" href="classunsigned.html">unsigned</a> ignoreFirstFewLines=0, <a class="el" href="classdouble.html">double</a> relTol=DBL_EPSILON, <a class="el" href="classbool.html">bool</a> doTsAssert=true)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNumericFileComparison.html#a0731514d3daa657b02e5911de78f7469">ReadNextToken</a> (std::ifstream *pFile, <a class="el" href="classdouble.html">double</a> &amp;rData)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Compare files of numbers to see if they match to within a given tolerance.</p>
<p>Any differences in words are ignored, as are comment lines starting with '#' or '!'. </p>

<p>Definition at line <a class="el" href="NumericFileComparison_8hpp_source.html#l00052">52</a> of file <a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5a82290380306f316f3489cec6f2f746"></a><!-- doxytag: member="NumericFileComparison::NumericFileComparison" ref="a5a82290380306f316f3489cec6f2f746" args="(std::string fileName1, std::string fileName2, bool calledCollectively=true, bool suppressOutput=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NumericFileComparison::NumericFileComparison </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>fileName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>fileName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>calledCollectively</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>suppressOutput</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Specify two files to compare, and open them for reading. Actual comparison is done by calling CompareFiles.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName1</em>&nbsp;</td><td>first file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fileName2</em>&nbsp;</td><td>second file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>calledCollectively</em>&nbsp;</td><td>If true there will be a barrier before opening files, and only master compares contents. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>suppressOutput</em>&nbsp;</td><td>If true then no errors will go to TS_TRACE(). Should only be set for the test of this class. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="NumericFileComparison_8hpp_source.html#l00100">100</a> of file <a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a35c337209307e73f4ef05e8dc1977665"></a><!-- doxytag: member="NumericFileComparison::NumericFileComparison" ref="a35c337209307e73f4ef05e8dc1977665" args="(const FileFinder &amp;rFileName1, const FileFinder &amp;rFileName2, bool calledCollectively=true, bool suppressOutput=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NumericFileComparison::NumericFileComparison </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rFileName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rFileName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>calledCollectively</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>suppressOutput</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Specify two files to compare, and open them for reading. Actual comparison is done by calling CompareFiles.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rFileName1</em>&nbsp;</td><td>first file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rFileName2</em>&nbsp;</td><td>second file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>calledCollectively</em>&nbsp;</td><td>If true there will be a barrier before opening files, and only master compares contents. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>suppressOutput</em>&nbsp;</td><td>If true then no errors will go to TS_TRACE(). Should only be set for the test of this class. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="NumericFileComparison_8hpp_source.html#l00114">114</a> of file <a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac875c05e1d6b5945b431587eb6c50f3d"></a><!-- doxytag: member="NumericFileComparison::CompareFiles" ref="ac875c05e1d6b5945b431587eb6c50f3d" args="(double absTol=DBL_EPSILON, unsigned ignoreFirstFewLines=0, double relTol=DBL_EPSILON, bool doTsAssert=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> NumericFileComparison::CompareFiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&nbsp;</td>
          <td class="paramname"> <em>absTol</em> = <code>DBL_EPSILON</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&nbsp;</td>
          <td class="paramname"> <em>ignoreFirstFewLines</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a>&nbsp;</td>
          <td class="paramname"> <em>relTol</em> = <code>DBL_EPSILON</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>doTsAssert</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the files are identical to within tolerance. Compare the files under both relative and absolute tolerances. The comparison only fails if neither tolerance holds. The default settings effectively require numbers to match exactly.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>absTol</em>&nbsp;</td><td>absolute tolerance on difference between numbers </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ignoreFirstFewLines</em>&nbsp;</td><td>how many lines to ignore from the comparison </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>relTol</em>&nbsp;</td><td>relative tolerance on difference between numbers </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>doTsAssert</em>&nbsp;</td><td>Whether to throw a TS_ASSERT internally (switched off for testing only) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="NumericFileComparison_8hpp_source.html#l00131">131</a> of file <a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00110">PetscTools::AmMaster()</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00114">AbstractFileComparison::mCalledCollectively</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00106">AbstractFileComparison::mFilename1</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00107">AbstractFileComparison::mFilename2</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00109">AbstractFileComparison::mpFile1</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00110">AbstractFileComparison::mpFile2</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00117">AbstractFileComparison::mSuppressOutput</a>, <a class="el" href="NumericFileComparison_8hpp_source.html#l00065">ReadNextToken()</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00122">AbstractFileComparison::ResetFiles()</a>, <a class="el" href="AbstractFileComparison_8hpp_source.html#l00139">AbstractFileComparison::SkipHeaderLines()</a>, and <a class="el" href="MathsCustomFunctions_8cpp_source.html#l00199">CompareDoubles::WithinAnyTolerance()</a>.</p>

</div>
</div>
<a class="anchor" id="a0731514d3daa657b02e5911de78f7469"></a><!-- doxytag: member="NumericFileComparison::ReadNextToken" ref="a0731514d3daa657b02e5911de78f7469" args="(std::ifstream *pFile, double &amp;rData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NumericFileComparison::ReadNextToken </td>
          <td>(</td>
          <td class="paramtype">std::ifstream *&nbsp;</td>
          <td class="paramname"> <em>pFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdouble.html">double</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the next token in the file as a double.</p>
<p>If we detect a comment skip the line. If we detect a word assign the value A_WORD. If we find nothing to read assign NOTHING_TO_READ.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pFile</em>&nbsp;</td><td>The file from which to attempt to read a double. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rData</em>&nbsp;</td><td>The double to assign a value to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="NumericFileComparison_8hpp_source.html#l00065">65</a> of file <a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a>.</p>

<p>Referenced by <a class="el" href="NumericFileComparison_8hpp_source.html#l00131">CompareFiles()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>global/src/fortests/<a class="el" href="NumericFileComparison_8hpp_source.html">NumericFileComparison.hpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
