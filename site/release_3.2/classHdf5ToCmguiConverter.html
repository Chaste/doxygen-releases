<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt; Class Template Reference</h1><!-- doxytag: class="Hdf5ToCmguiConverter" --><!-- doxytag: inherits="AbstractHdf5Converter" -->
<p><code>#include &lt;<a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html">Hdf5ToCmguiConverter.hpp</a>&gt;</code></p>

<p>Inherits <a class="el" href="classAbstractHdf5Converter.html">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;</a>.</p>
<div class="dynheader">
Collaboration diagram for Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;:</div>
<div class="dynsection">
<div class="center"><img src="classHdf5ToCmguiConverter__coll__graph.png" border="0" usemap="#Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_coll__map" id="Hdf5ToCmguiConverter_3_01ELEMENT__DIM_00_01SPACE__DIM_01_4_coll__map">
<area shape="rect" id="node2" href="classAbstractHdf5Converter.html" title="{AbstractHdf5Converter\&lt; ELEMENT_DIM, SPACE_DIM \&gt;\n|# mrH5Folder\l# mpReader\l# mNumVariables\l# mFileBaseName\l# mDatasetNames\l# mOpenDatasetIndex\l# mpMesh\l# mpOutputFileHandler\l# mRelativeSubdirectory\l# mPrecision\l|+ AbstractHdf5Converter()\l+ WriteInfoFile()\l+ ~AbstractHdf5Converter()\l+ GetSubdirectory()\l# MoveOntoNextDataset()\l&#45; GenerateListOfDatasets()\l}" alt="" coords="619,937,971,1287"/><area shape="rect" id="node6" href="classOutputFileHandler.html" title="{OutputFileHandler\n|+ SIG_FILE_NAME\l&#45; mDirectory\l|+ OutputFileHandler()\l+ OutputFileHandler()\l+ GetOutputDirectoryFullPath()\l+ SetArchiveDirectory()\l+ OpenOutputFile()\l+ OpenOutputFile()\l+ CopyFileTo()\l+ FindFile()\l+ GetChasteTestOutputDirectory()\l&#45; CommonConstructor()\l&#45; MakeFoldersAndReturnFullPath()\l&#45; AddTrailingSlash()\l}" alt="" coords="424,341,651,654"/><area shape="rect" id="node18" href="classFileFinder.html" title="{FileFinder\n|&#45; mAbsPath\l&#45; msFaking\l&#45; msFakeWhat\l&#45; msFakePath\l|+ FileFinder()\l+ FileFinder()\l+ FileFinder()\l+ FileFinder()\l+ ~FileFinder()\l+ SetPath()\l+ SetPath()\l+ IsPathSet()\l+ Exists()\l+ IsFile()\l+ IsDir()\l+ IsEmpty()\l+ GetAbsolutePath()\l+ IsNewerThan()\l+ GetLeafName()\l+ GetLeafNameNoExtension()\l+ GetExtension()\l+ GetParent()\l+ GetRelativePath()\l+ CopyTo()\l+ Remove()\l+ DangerousRemove()\l+ FindMatches()\l+ IsAbsolutePath()\l+ ReplaceSpacesWithUnderscores()\l+ ReplaceUnderscoresWithSpaces()\l+ FakePath()\l+ StopFaking()\l&#45; PrivateRemove()\l}" alt="" coords="675,163,915,831"/><area shape="rect" id="node16" href="classunsigned.html" title="{unsigned\n||}" alt="" coords="1507,453,1584,542"/><area shape="rect" id="node23" href="classbool.html" title="{bool\n||}" alt="" coords="953,6,1001,95"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classHdf5ToCmguiConverter-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHdf5ToCmguiConverter.html#a2ea23769c7d52d605fa6db85011bb894">Hdf5ToCmguiConverter</a> (const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rInputDirectory, const std::string &amp;rFileBaseName, <a class="el" href="classAbstractTetrahedralMesh.html">AbstractTetrahedralMesh</a>&lt; ELEMENT_DIM, SPACE_DIM &gt; *pMesh, <a class="el" href="classbool.html">bool</a> hasBath=false, <a class="el" href="classunsigned.html">unsigned</a> precision=0u)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHdf5ToCmguiConverter.html#aed5bf794d76e270f454b9e8d610f33eb">Write</a> (std::string type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHdf5ToCmguiConverter.html#a3bd0b21ee90c5688831bbf03ec9f9fa5">WriteCmguiScript</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt;<br/>
 class Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;</h3>

<p>This class converts from Hdf5 format to Cmgui format. The output will be one .exnode file per time step. The format that cmgui accepts is (after the headers):</p>
<p><a class="el" href="classNode.html">Node</a>: 1 Value_at_node_1 <a class="el" href="classNode.html">Node</a>:2 Value_at_node_2 .....</p>
<p>For bidomain simulations, we will have two fields, one for Vm and one for Phie. The Cmgui format for two fields is as follows:</p>
<p><a class="el" href="classNode.html">Node</a>: 1 Vm_node_1 Phie_at_node_1 <a class="el" href="classNode.html">Node</a>:2 Vm_at_node_2 Phie_at_node_2 ..... </p>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html#l00064">64</a> of file <a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html">Hdf5ToCmguiConverter.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2ea23769c7d52d605fa6db85011bb894"></a><!-- doxytag: member="Hdf5ToCmguiConverter::Hdf5ToCmguiConverter" ref="a2ea23769c7d52d605fa6db85011bb894" args="(const FileFinder &amp;rInputDirectory, const std::string &amp;rFileBaseName, AbstractTetrahedralMesh&lt; ELEMENT_DIM, SPACE_DIM &gt; *pMesh, bool hasBath=false, unsigned precision=0u)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>&lt; ELEMENT_DIM, SPACE_DIM &gt;::<a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rInputDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rFileBaseName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAbstractTetrahedralMesh.html">AbstractTetrahedralMesh</a>&lt; ELEMENT_DIM, SPACE_DIM &gt; *&nbsp;</td>
          <td class="paramname"> <em>pMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>hasBath</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&nbsp;</td>
          <td class="paramname"> <em>precision</em> = <code>0u</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor, which does the conversion.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method is collective, and hence must be called by all processes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rInputDirectory</em>&nbsp;</td><td>The input directory, relative to CHASTE_TEST_OUTPUT, where the .h5 file has been written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rFileBaseName</em>&nbsp;</td><td>The base name of the data file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pMesh</em>&nbsp;</td><td>Pointer to the mesh. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hasBath</em>&nbsp;</td><td>whether the mesh has a bath or not. Defaults to false. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>precision</em>&nbsp;</td><td>The number of digits to use when printing to file (0u = default). </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>#1660 at present this converter is hardcoded to work with "Data" using the below statement </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>What if the mesh has been scaled, translated or rotated? </dd></dl>
</p>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00136">136</a> of file <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00124">PetscTools::Barrier()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l01347">HeartConfig::GetOutputDirectory()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l00196">HeartConfig::Instance()</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00081">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mDatasetNames</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00086">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mOpenDatasetIndex</a>, <a class="el" href="AbstractHdf5Converter_8cpp_source.html#l00123">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::MoveOntoNextDataset()</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00089">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpMesh</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00067">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpReader</a>, <a class="el" href="CmguiMeshWriter_8cpp_source.html#l00151">CmguiMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::SetAdditionalFieldNames()</a>, <a class="el" href="CmguiMeshWriter_8cpp_source.html#l00157">CmguiMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::SetRegionNames()</a>, <a class="el" href="Exception_8hpp_source.html#l00216">UNUSED_OPT</a>, <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00049">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Write()</a>, <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00191">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteCmguiScript()</a>, <a class="el" href="AbstractTetrahedralMeshWriter_8cpp_source.html#l00442">AbstractTetrahedralMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFilesUsingMesh()</a>, and <a class="el" href="AbstractMeshWriter_8cpp_source.html#l00121">AbstractMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFilesUsingMeshReader()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aed5bf794d76e270f454b9e8d610f33eb"></a><!-- doxytag: member="Hdf5ToCmguiConverter::Write" ref="aed5bf794d76e270f454b9e8d610f33eb" args="(std::string type)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>&lt; ELEMENT_DIM, SPACE_DIM &gt;::Write </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A helper method which takes in a string, which must be 'Mono' or 'Bi' and reads the data from the hdf5 file, writing it out in Cmgui format.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>the type of simulation (Mono or Bi) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00049">49</a> of file <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00110">PetscTools::AmMaster()</a>, <a class="el" href="DistributedVectorFactory_8cpp_source.html#l00154">DistributedVectorFactory::CreateVec()</a>, <a class="el" href="PetscTools_8hpp_source.html#l00349">PetscTools::Destroy()</a>, <a class="el" href="classChasteBuildInfo.html#af5842208aedc7b8b880e0942b2448acd">ChasteBuildInfo::GetProvenanceString()</a>, <a class="el" href="ReplicatableVector_8cpp_source.html#l00101">ReplicatableVector::GetSize()</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00073">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mFileBaseName</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00092">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpOutputFileHandler</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00067">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpReader</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00104">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mPrecision</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00231">OutputFileHandler::OpenOutputFile()</a>.</p>

<p>Referenced by <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00136">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Hdf5ToCmguiConverter()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bd0b21ee90c5688831bbf03ec9f9fa5"></a><!-- doxytag: member="Hdf5ToCmguiConverter::WriteCmguiScript" ref="a3bd0b21ee90c5688831bbf03ec9f9fa5" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned ELEMENT_DIM, unsigned SPACE_DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classHdf5ToCmguiConverter.html">Hdf5ToCmguiConverter</a>&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteCmguiScript </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes a basic script for visualization of mesh and data.</p>
<p>It loads the nodes and elements. It also asks cmgui to create faces and lines (because our output files don't have the information). Data are loaded by means of a 'for' loop.</p>
<p>After loading the script, nodes (seen as small dots) and lines connecting them will be displayed. Both nodes and lines will be coloured according to the first variable in the Hdf5 file (usually Vm). The Cmgui default spectrum (0 to 1, blue to red) is used. This can be changed by clicking on 'graphics-&gt;spectrum editor'. Other manual modification can be made by clicking on 'graphics-&gt;scene editor'. </p>

<p>Definition at line <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00191">191</a> of file <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a>.</p>

<p>References <a class="el" href="PetscTools_8cpp_source.html#l00110">PetscTools::AmMaster()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l01354">HeartConfig::GetOutputFilenamePrefix()</a>, <a class="el" href="classChasteBuildInfo.html#af5842208aedc7b8b880e0942b2448acd">ChasteBuildInfo::GetProvenanceString()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l00196">HeartConfig::Instance()</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00073">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mFileBaseName</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00092">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpOutputFileHandler</a>, <a class="el" href="AbstractHdf5Converter_8hpp_source.html#l00067">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::mpReader</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00231">OutputFileHandler::OpenOutputFile()</a>.</p>

<p>Referenced by <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00136">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Hdf5ToCmguiConverter()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>heart/src/postprocessing/<a class="el" href="Hdf5ToCmguiConverter_8hpp_source.html">Hdf5ToCmguiConverter.hpp</a></li>
<li>heart/src/postprocessing/<a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html">Hdf5ToCmguiConverter.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
