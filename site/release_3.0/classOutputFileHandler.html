<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Chaste: OutputFileHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>OutputFileHandler Class Reference</h1><!-- doxytag: class="OutputFileHandler" -->
<p><code>#include &lt;<a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for OutputFileHandler:</div>
<div class="dynsection">
<div class="center"><img src="classOutputFileHandler__coll__graph.png" border="0" usemap="#OutputFileHandler_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classOutputFileHandler-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#aee99788c5bfdde3d964586dc54944024">OutputFileHandler</a> (const std::string &amp;rDirectory, <a class="el" href="classbool.html">bool</a> cleanOutputDirectory=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#ab9c41bd287378a80f884d9860fb14f27">GetOutputDirectoryFullPath</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a52d00a19d079ac9f85812ba3a313221f">SetArchiveDirectory</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">out_stream&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a01752f10d7d7a15355363ee63ce681fe">OpenOutputFile</a> (const std::string &amp;rFileName, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">out_stream&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a1941440bd3ffaf07ec8f9e4ec5eeb074">OpenOutputFile</a> (const std::string &amp;rFileName, <a class="el" href="classunsigned.html">unsigned</a> number, const std::string &amp;rFileFormat, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileFinder.html">FileFinder</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a930c6d614f719883e5d54d1b325eb714">CopyFileTo</a> (const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;rSourceFile) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileFinder.html">FileFinder</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#afa249d4ec233e22a2de8ff3b261acce5">FindFile</a> (std::string leafName) const </td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a0f5e0618de55107606ee23a5d60c0b41">GetChasteTestOutputDirectory</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#ad025dfce73b584c1dd8615d869a5104c">MakeFoldersAndReturnFullPath</a> (const std::string &amp;rDirectory) const </td></tr>
<tr><td colspan="2"><h2>Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#a0c97261c6ead74c5da4e527c4812400e">AddTrailingSlash</a> (std::string &amp;rDirectory)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7e4862b45df8d48f55881a71b63b85e"></a><!-- doxytag: member="OutputFileHandler::mDirectory" ref="aa7e4862b45df8d48f55881a71b63b85e" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOutputFileHandler.html#aa7e4862b45df8d48f55881a71b63b85e">mDirectory</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The directory to store output files in (always ends in "/"). <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This file abstracts stuff that needs to be done when creating output files for tests. It defines some helpful functions, so that things that are otherwise repeated in lots of places are just done here. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8hpp_source.html#l00047">47</a> of file <a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aee99788c5bfdde3d964586dc54944024"></a><!-- doxytag: member="OutputFileHandler::OutputFileHandler" ref="aee99788c5bfdde3d964586dc54944024" args="(const std::string &amp;rDirectory, bool cleanOutputDirectory=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OutputFileHandler::OutputFileHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>cleanOutputDirectory</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an <a class="el" href="classOutputFileHandler.html">OutputFileHandler</a> that will create output files in the given directory. The directory name should be relative to the place where Chaste test output is stored. If the user needs to know where this is, use the GetChasteTestOutputDirectory method.</p>
<p>Will check that the directory exists and create it if needed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This MUST be called collectively, since it contains a barrier call.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rDirectory</em>&nbsp;</td><td>the directory to put output files in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cleanOutputDirectory</em>&nbsp;</td><td>whether to remove any existing files in the output directory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00040">40</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="Exception_8hpp_source.html#l00248">ABORT_IF_NON0</a>, <a class="el" href="PetscTools_8cpp_source.html#l00098">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00112">PetscTools::Barrier()</a>, <a class="el" href="Exception_8hpp_source.html#l00136">EXCEPTION</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00103">MakeFoldersAndReturnFullPath()</a>, and <a class="el" href="OutputFileHandler_8hpp_source.html#l00051">mDirectory</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0c97261c6ead74c5da4e527c4812400e"></a><!-- doxytag: member="OutputFileHandler::AddTrailingSlash" ref="a0c97261c6ead74c5da4e527c4812400e" args="(std::string &amp;rDirectory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutputFileHandler::AddTrailingSlash </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDirectory</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Takes a reference to a string and adds a trailing slash if one is not already present</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rDirectory</em>&nbsp;</td><td>The directory name to add a trailing slash to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00184">184</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00074">GetChasteTestOutputDirectory()</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00103">MakeFoldersAndReturnFullPath()</a>.</p>

</div>
</div>
<a class="anchor" id="a930c6d614f719883e5d54d1b325eb714"></a><!-- doxytag: member="OutputFileHandler::CopyFileTo" ref="a930c6d614f719883e5d54d1b325eb714" args="(const FileFinder &amp;rSourceFile) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileFinder.html">FileFinder</a> OutputFileHandler::CopyFileTo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFileFinder.html">FileFinder</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rSourceFile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy the given file to this output directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rSourceFile</em>&nbsp;</td><td>the file to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the copied file </dd></dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00193">193</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="Exception_8hpp_source.html#l00248">ABORT_IF_NON0</a>, <a class="el" href="PetscTools_8cpp_source.html#l00098">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00112">PetscTools::Barrier()</a>, <a class="el" href="Exception_8hpp_source.html#l00136">EXCEPTION</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00207">FindFile()</a>, <a class="el" href="FileFinder_8cpp_source.html#l00169">FileFinder::GetAbsolutePath()</a>, <a class="el" href="FileFinder_8cpp_source.html#l00184">FileFinder::GetLeafName()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00152">GetOutputDirectoryFullPath()</a>, and <a class="el" href="FileFinder_8cpp_source.html#l00135">FileFinder::IsFile()</a>.</p>

</div>
</div>
<a class="anchor" id="afa249d4ec233e22a2de8ff3b261acce5"></a><!-- doxytag: member="OutputFileHandler::FindFile" ref="afa249d4ec233e22a2de8ff3b261acce5" args="(std::string leafName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileFinder.html">FileFinder</a> OutputFileHandler::FindFile </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>leafName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a <a class="el" href="classFileFinder.html">FileFinder</a> for a file in this output directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>leafName</em>&nbsp;</td><td>the name of the file to find </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00207">207</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00049">RelativeTo::Absolute</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00152">GetOutputDirectoryFullPath()</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00193">CopyFileTo()</a>, and <a class="el" href="AbstractTetrahedralMeshWriter_8cpp_source.html#l00362">AbstractTetrahedralMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteNclFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f5e0618de55107606ee23a5d60c0b41"></a><!-- doxytag: member="OutputFileHandler::GetChasteTestOutputDirectory" ref="a0f5e0618de55107606ee23a5d60c0b41" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OutputFileHandler::GetChasteTestOutputDirectory </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Static method for getting the test output directory (the directory where chaste stores test output). This is set from the environment variable CHASTE_TEST_OUTPUT, and defaults to "./testoutput" if it is not set.</p>
<p>Attempts to return an absolute path, but may get confused by odd setups. Eventually we'll move to using boost::filesystem, which would be more robust.</p>
<p>Static so an output file handler does not have to be created if the test output directory is wanted for, say, reading a file. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00074">74</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8cpp_source.html#l00184">AddTrailingSlash()</a>.</p>

<p>Referenced by <a class="el" href="OutputDirectoryFifoQueue_8cpp_source.html#l00047">OutputDirectoryFifoQueue::CreateNextDir()</a>, <a class="el" href="ArchiveLocationInfo_8cpp_source.html#l00103">ArchiveLocationInfo::GetArchiveRelativePath()</a>, <a class="el" href="ArchiveLocationInfo_8cpp_source.html#l00119">ArchiveLocationInfo::GetIsDirRelativeToChasteTestOutput()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00103">MakeFoldersAndReturnFullPath()</a>, and <a class="el" href="FileFinder_8cpp_source.html#l00060">FileFinder::SetPath()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9c41bd287378a80f884d9860fb14f27"></a><!-- doxytag: member="OutputFileHandler::GetOutputDirectoryFullPath" ref="ab9c41bd287378a80f884d9860fb14f27" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OutputFileHandler::GetOutputDirectoryFullPath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the full pathname to the directory this object will create files in. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00152">152</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8hpp_source.html#l00051">mDirectory</a>.</p>

<p>Referenced by <a class="el" href="ColumnDataReader_8cpp_source.html#l00052">ColumnDataReader::ColumnDataReader()</a>, <a class="el" href="AbstractConvergenceTester_8hpp_source.html#l00236">AbstractConvergenceTester&lt; CELL, CARDIAC_PROBLEM, DIM, PROBLEM_DIM &gt;::Converge()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00193">CopyFileTo()</a>, <a class="el" href="CardiacSimulation_8hpp_source.html#l00091">CardiacSimulation::CreateAndRun()</a>, <a class="el" href="CardiacSimulation_8cpp_source.html#l00052">CardiacSimulation::CreateResumeXmlFile()</a>, <a class="el" href="CylindricalHoneycombMeshGenerator_8cpp_source.html#l00033">CylindricalHoneycombMeshGenerator::CylindricalHoneycombMeshGenerator()</a>, <a class="el" href="Hdf5DataWriter_8cpp_source.html#l00441">Hdf5DataWriter::EndDefineMode()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00207">FindFile()</a>, <a class="el" href="AbstractMeshWriter_8cpp_source.html#l00054">AbstractMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::GetOutputDirectory()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00090">ColumnDataWriter::GetOutputDirectory()</a>, <a class="el" href="Hdf5DataWriter_8cpp_source.html#l00043">Hdf5DataWriter::Hdf5DataWriter()</a>, <a class="el" href="HoneycombMeshGenerator_8cpp_source.html#l00036">HoneycombMeshGenerator::HoneycombMeshGenerator()</a>, <a class="el" href="CmguiMeshWriter_8cpp_source.html#l00163">CmguiMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::OpenElementFiles()</a>, <a class="el" href="CardiacSimulationArchiver_8cpp_source.html#l00067">CardiacSimulationArchiver&lt; PROBLEM_CLASS &gt;::Save()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00178">SetArchiveDirectory()</a>, <a class="el" href="AdaptiveBidomainProblem_8cpp_source.html#l00351">AdaptiveBidomainProblem::Solve()</a>, <a class="el" href="HeartConfig_8cpp_source.html#l00223">HeartConfig::Write()</a>, <a class="el" href="VtkMeshWriter_8cpp_source.html#l00110">VtkMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFiles()</a>, <a class="el" href="VtkMeshWriter_8cpp_source.html#l00413">VtkMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFilesUsingMesh()</a>, and <a class="el" href="VertexMeshWriter_8cpp_source.html#l00199">VertexMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteVtkUsingMesh()</a>.</p>

</div>
</div>
<a class="anchor" id="ad025dfce73b584c1dd8615d869a5104c"></a><!-- doxytag: member="OutputFileHandler::MakeFoldersAndReturnFullPath" ref="ad025dfce73b584c1dd8615d869a5104c" args="(const std::string &amp;rDirectory) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OutputFileHandler::MakeFoldersAndReturnFullPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDirectory</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check that the desired output directory exists and is writable by us. Create it if needed. Return the full pathname of the output directory.</p>
<p>The environment variable CHASTE_TEST_OUTPUT will be examined. If it is set and non-empty it is taken to be a directory where test output should be stored. Otherwise the current directory is used.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Contains a barrier, so must be called collectively.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rDirectory</em>&nbsp;</td><td>pathname of the output directory, relative to where Chaste output will be stored (user shouldn't care about this). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>full pathname to the output directory </dd></dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00103">103</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="Exception_8hpp_source.html#l00248">ABORT_IF_NON0</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00184">AddTrailingSlash()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00098">PetscTools::AmMaster()</a>, <a class="el" href="PetscTools_8cpp_source.html#l00112">PetscTools::Barrier()</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00074">GetChasteTestOutputDirectory()</a>.</p>

<p>Referenced by <a class="el" href="OutputFileHandler_8cpp_source.html#l00040">OutputFileHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="a1941440bd3ffaf07ec8f9e4ec5eeb074"></a><!-- doxytag: member="OutputFileHandler::OpenOutputFile" ref="a1941440bd3ffaf07ec8f9e4ec5eeb074" args="(const std::string &amp;rFileName, unsigned number, const std::string &amp;rFileFormat, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">out_stream OutputFileHandler::OpenOutputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&nbsp;</td>
          <td class="paramname"> <em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rFileFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ios_base::openmode&nbsp;</td>
          <td class="paramname"> <em>mode</em> = <code>std::ios::out&nbsp;|&nbsp;std::ios::trunc</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This just calls the other OpenOutputFile after concatenating the first three arguments together to make the full filename. For example OpenOutputFile("results_", 3, ".dat") creates results_3.dat. See documentation for OpenOutputFile(std::string, std::ios_base::openmode).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rFileName</em>&nbsp;</td><td>the root name of the file to open </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>number</em>&nbsp;</td><td>the number to append to the root name of the file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rFileFormat</em>&nbsp;</td><td>the file format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>optionally, flags to use when opening the file (defaults are as for std::ofstream). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00168">168</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="OutputFileHandler_8cpp_source.html#l00157">OpenOutputFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a01752f10d7d7a15355363ee63ce681fe"></a><!-- doxytag: member="OutputFileHandler::OpenOutputFile" ref="a01752f10d7d7a15355363ee63ce681fe" args="(const std::string &amp;rFileName, std::ios_base::openmode mode=std::ios::out|std::ios::trunc) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">out_stream OutputFileHandler::OpenOutputFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ios_base::openmode&nbsp;</td>
          <td class="paramname"> <em>mode</em> = <code>std::ios::out&nbsp;|&nbsp;std::ios::trunc</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open an output file in our directory, and check it was opened successfully. Throws an <a class="el" href="classException.html">Exception</a> if not.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rFileName</em>&nbsp;</td><td>the name of the file to open, relative to the output directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>optionally, flags to use when opening the file (defaults are as for std::ofstream). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a managed pointer to the opened file stream. </dd></dl>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00157">157</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="Exception_8hpp_source.html#l00136">EXCEPTION</a>, and <a class="el" href="OutputFileHandler_8hpp_source.html#l00051">mDirectory</a>.</p>

<p>Referenced by <a class="el" href="AbstractHdf5Converter_8cpp_source.html#l00033">AbstractHdf5Converter&lt; ELEMENT_DIM, SPACE_DIM &gt;::AbstractHdf5Converter()</a>, <a class="el" href="VtkMeshWriter_8cpp_source.html#l00099">VtkMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::AddProvenance()</a>, <a class="el" href="AbstractConvergenceTester_8hpp_source.html#l00236">AbstractConvergenceTester&lt; CELL, CARDIAC_PROBLEM, DIM, PROBLEM_DIM &gt;::Converge()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00316">ColumnDataWriter::CreateFixedDimensionFile()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00345">ColumnDataWriter::CreateInfoFile()</a>, <a class="el" href="CellMLToSharedLibraryConverter_8cpp_source.html#l00190">CellMLToSharedLibraryConverter::CreateOptionsFile()</a>, <a class="el" href="VertexBasedCellPopulation_8cpp_source.html#l00599">VertexBasedCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="PottsBasedCellPopulation_8cpp_source.html#l00318">PottsBasedCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="MeshBasedCellPopulation_8cpp_source.html#l00381">MeshBasedCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="AbstractCellPopulation_8cpp_source.html#l00260">AbstractCellPopulation&lt; DIM &gt;::CreateOutputFiles()</a>, <a class="el" href="CardiacSimulation_8cpp_source.html#l00052">CardiacSimulation::CreateResumeXmlFile()</a>, <a class="el" href="CylindricalHoneycombMeshGenerator_8cpp_source.html#l00033">CylindricalHoneycombMeshGenerator::CylindricalHoneycombMeshGenerator()</a>, <a class="el" href="CardiacElectroMechanicsProblem_8cpp_source.html#l00053">CardiacElectroMechanicsProblem&lt; DIM &gt;::DetermineWatchedNodes()</a>, <a class="el" href="ColumnDataWriter_8cpp_source.html#l00224">ColumnDataWriter::EndDefineMode()</a>, <a class="el" href="StreeterFibreGenerator_8cpp_source.html#l00156">StreeterFibreGenerator&lt; SPACE_DIM &gt;::GenerateOrthotropicFibreOrientation()</a>, <a class="el" href="Hdf5ToTxtConverter_8cpp_source.html#l00040">Hdf5ToTxtConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Hdf5ToTxtConverter()</a>, <a class="el" href="HoneycombMeshGenerator_8cpp_source.html#l00036">HoneycombMeshGenerator::HoneycombMeshGenerator()</a>, <a class="el" href="MeshalyzerMeshWriter_8cpp_source.html#l00228">MeshalyzerMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::OpenElementFile()</a>, <a class="el" href="MeshalyzerMeshWriter_8cpp_source.html#l00249">MeshalyzerMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::OpenFaceFile()</a>, <a class="el" href="FibreWriter_8cpp_source.html#l00117">FibreWriter&lt; DIM &gt;::OpenFileAndWriteHeader()</a>, <a class="el" href="MeshalyzerMeshWriter_8cpp_source.html#l00221">MeshalyzerMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::OpenNodeFile()</a>, <a class="el" href="CmguiMeshWriter_8cpp_source.html#l00156">CmguiMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::OpenNodeFile()</a>, <a class="el" href="OutputFileHandler_8cpp_source.html#l00168">OpenOutputFile()</a>, <a class="el" href="CellBasedPdeHandler_8cpp_source.html#l00139">CellBasedPdeHandler&lt; DIM &gt;::OpenResultsFiles()</a>, <a class="el" href="AbstractCellBasedSimulation_8cpp_source.html#l00437">AbstractCellBasedSimulation&lt; DIM &gt;::OutputSimulationSetup()</a>, <a class="el" href="ExecutableSupport_8cpp_source.html#l00240">ExecutableSupport::PrintError()</a>, <a class="el" href="ProgressReporter_8cpp_source.html#l00035">ProgressReporter::ProgressReporter()</a>, <a class="el" href="LogFile_8cpp_source.html#l00066">LogFile::Set()</a>, <a class="el" href="OnLatticeSimulation_8cpp_source.html#l00148">OnLatticeSimulation&lt; DIM &gt;::SetupSolve()</a>, <a class="el" href="OffLatticeSimulation_8cpp_source.html#l00312">OffLatticeSimulation&lt; DIM &gt;::SetupSolve()</a>, <a class="el" href="CryptSimulation2d_8cpp_source.html#l00162">CryptSimulation2d::SetupWriteBetaCatenin()</a>, <a class="el" href="SimpleDataWriter_8cpp_source.html#l00033">SimpleDataWriter::SimpleDataWriter()</a>, <a class="el" href="AbstractCellBasedSimulation_8cpp_source.html#l00275">AbstractCellBasedSimulation&lt; DIM &gt;::Solve()</a>, <a class="el" href="LinearParabolicPdeSystemWithCoupledOdeSystemSolver_8hpp_source.html#l00443">LinearParabolicPdeSystemWithCoupledOdeSystemSolver&lt; ELEMENT_DIM, SPACE_DIM, PROBLEM_DIM &gt;::SolveAndWriteResultsToFile()</a>, <a class="el" href="Hdf5ToMeshalyzerConverter_8cpp_source.html#l00042">Hdf5ToMeshalyzerConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Write()</a>, <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00042">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::Write()</a>, <a class="el" href="QuadraticMesh_8cpp_source.html#l00536">QuadraticMesh&lt; DIM &gt;::WriteBoundaryElementFile()</a>, <a class="el" href="CmguiDeformedSolutionsWriter_8cpp_source.html#l00153">CmguiDeformedSolutionsWriter&lt; DIM &gt;::WriteCmguiScript()</a>, <a class="el" href="Hdf5ToCmguiConverter_8cpp_source.html#l00176">Hdf5ToCmguiConverter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteCmguiScript()</a>, <a class="el" href="AbstractNonlinearElasticitySolver_8hpp_source.html#l01378">AbstractNonlinearElasticitySolver&lt; DIM &gt;::WriteCurrentDeformation()</a>, <a class="el" href="AbstractNonlinearElasticitySolver_8hpp_source.html#l01409">AbstractNonlinearElasticitySolver&lt; DIM &gt;::WriteCurrentDeformationGradients()</a>, <a class="el" href="CmguiDeformedSolutionsWriter_8cpp_source.html#l00122">CmguiDeformedSolutionsWriter&lt; DIM &gt;::WriteDeformationPositions()</a>, <a class="el" href="TrianglesMeshWriter_8cpp_source.html#l00253">TrianglesMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteElementsAsFaces()</a>, <a class="el" href="TrianglesMeshWriter_8cpp_source.html#l00296">TrianglesMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFacesAsEdges()</a>, <a class="el" href="TrianglesMeshWriter_8cpp_source.html#l00059">TrianglesMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFiles()</a>, <a class="el" href="VertexMeshWriter_8cpp_source.html#l00332">VertexMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteFiles()</a>, <a class="el" href="PottsMeshWriter_8cpp_source.html#l00163">PottsMeshWriter&lt; SPACE_DIM &gt;::WriteFiles()</a>, <a class="el" href="PostProcessingWriter_8cpp_source.html#l00327">PostProcessingWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteGenericFile()</a>, <a class="el" href="HeartGeometryInformation_8cpp_source.html#l00371">HeartGeometryInformation&lt; SPACE_DIM &gt;::WriteLayerForEachNode()</a>, <a class="el" href="ExecutableSupport_8cpp_source.html#l00113">ExecutableSupport::WriteMachineInfoFile()</a>, <a class="el" href="MeshalyzerMeshWriter_8cpp_source.html#l00189">MeshalyzerMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteMetaFile()</a>, <a class="el" href="AbstractTetrahedralMeshWriter_8cpp_source.html#l00362">AbstractTetrahedralMeshWriter&lt; ELEMENT_DIM, SPACE_DIM &gt;::WriteNclFile()</a>, <a class="el" href="ExecutableSupport_8cpp_source.html#l00160">ExecutableSupport::WriteProvenanceInfoFile()</a>, <a class="el" href="PseudoEcgCalculator_8cpp_source.html#l00108">PseudoEcgCalculator&lt; ELEMENT_DIM, SPACE_DIM, PROBLEM_DIM &gt;::WritePseudoEcg()</a>, and <a class="el" href="DiscreteSystemForceCalculator_8cpp_source.html#l00081">DiscreteSystemForceCalculator::WriteResultsToFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a52d00a19d079ac9f85812ba3a313221f"></a><!-- doxytag: member="OutputFileHandler::SetArchiveDirectory" ref="a52d00a19d079ac9f85812ba3a313221f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OutputFileHandler::SetArchiveDirectory </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper method to set up <a class="el" href="classArchiveLocationInfo.html">ArchiveLocationInfo</a>. </p>

<p>Definition at line <a class="el" href="OutputFileHandler_8cpp_source.html#l00178">178</a> of file <a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a>.</p>

<p>References <a class="el" href="FileFinder_8hpp_source.html#l00049">RelativeTo::Absolute</a>, and <a class="el" href="OutputFileHandler_8cpp_source.html#l00152">GetOutputDirectoryFullPath()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>global/src/<a class="el" href="OutputFileHandler_8hpp_source.html">OutputFileHandler.hpp</a></li>
<li>global/src/<a class="el" href="OutputFileHandler_8cpp_source.html">OutputFileHandler.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Dec 22 13:07:07 2011 for Chaste by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
